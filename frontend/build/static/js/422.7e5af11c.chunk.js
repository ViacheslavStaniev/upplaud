"use strict";(self.webpackChunkpodasq=self.webpackChunkpodasq||[]).push([[422],{70992:function(e,t,r){r.d(t,{O:function(){return s},_:function(){return o}});var n=r(74165),a=r(15861),i=r(68343),s=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,s,o,u,c=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:null,e.prev=1,!r){e.next=8;break}return e.next=5,i.Z.put("guests/".concat(r),t);case 5:return a=e.sent,s=a.data,e.abrupt("return",s);case 8:return e.next=10,i.Z.post("guests",t);case 10:return o=e.sent,u=o.data,e.abrupt("return",u);case 15:return e.prev=15,e.t0=e.catch(1),e.abrupt("return",e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.get("guests/list/".concat(t));case 3:return r=e.sent,a=r.data,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},43422:function(e,t,r){r.r(t),r.d(t,{default:function(){return E}});var n=r(93433),a=r(74165),i=r(1413),s=r(15861),o=r(29439),u=r(91614),c=r(20890),l=r(53767),d=r(94070),p=r(63466),m=r(36151),h=r(81918),f=r(85523),x=r(9955),Z=r(20068),b=r(72791),g=r(39709),j=r(81724),v=r(61134),y=r(44695),T=r(98246),w=r(70992),A=r(53861),S=r(73609),k=r(66658),D=r(78230),q=r(83769),C=r(80184);function E(){var e=(0,T.Ds)().enqueueSnackbar,t=(0,D.K$)().themeStretch,r=(0,A.Z)("up","lg")?"row":"column",E=j.Ry().shape({firstName:j.Z_().required("First name is Required"),jobTitle:j.Z_().required("Please fill the Job Title"),recordingDate:j.hT().required("Please choose a recording date."),email:j.Z_().required("Email is required").email("Email must be a valid email address")}),G={firstName:"",lastName:"",email:"",jobTitle:"",recordingDate:"",startHostAutomation:!1,dummyTopic:""},N=(0,b.useState)([]),O=(0,o.Z)(N,2),P=O[0],z=O[1],I=(0,v.cI)({resolver:(0,y.X)(E),defaultValues:G}),U=I.reset,_=I.watch,F=I.setError,H=I.setValue,L=I.handleSubmit,R=I.formState,V=R.errors,B=R.isSubmitting,J=function(){var t=(0,s.Z)((0,a.Z)().mark((function t(r){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,w.O)((0,i.Z)((0,i.Z)({},r),{},{potentialTopics:P}));case 3:z([]),U(G),e("Guest added successfully!",{variant:"success",anchorOrigin:{vertical:"top",horizontal:"center"}}),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),U(),F("afterSubmit",(0,i.Z)((0,i.Z)({},t.t0),{},{message:t.t0.message||t.t0}));case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}();return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(q.Z,{title:"Add Guest"}),(0,C.jsxs)(u.Z,{maxWidth:!t&&"xl",children:[(0,C.jsx)(c.Z,{variant:"h3",component:"h1",children:"Add Guest"}),(0,C.jsx)(c.Z,{children:"Enter your guest details to automate their pre-episode promotion on social media"}),(0,C.jsxs)(k.ZP,{methods:I,onSubmit:L(J),children:[(0,C.jsxs)(l.Z,{spacing:2,marginTop:2,marginBottom:2,children:[!!V.afterSubmit&&(0,C.jsx)(d.Z,{severity:"error",children:V.afterSubmit.message}),(0,C.jsxs)(l.Z,{sx:{gap:2,mb:2,alignContent:"center",justifyContent:"space-between",flexDirection:r},children:[(0,C.jsx)(k.au,{name:"firstName",label:"Guest First Name"}),(0,C.jsx)(k.au,{name:"lastName",label:"Guest Last Name"}),(0,C.jsx)(k.au,{name:"email",label:"Guest Email"})]}),(0,C.jsxs)(l.Z,{sx:{gap:2,mb:2,alignContent:"center",justifyContent:"space-between",flexDirection:r},children:[(0,C.jsx)(k.T$,{name:"recordingDate",label:"Recording Date"}),(0,C.jsx)(k.au,{name:"jobTitle",label:"Guest Job Title and Business"}),(0,C.jsxs)(l.Z,{width:"100%",position:"relative",children:[(0,C.jsx)(k.au,{name:"dummyTopic",disabled:5===P.length,label:"Potential Topic (Optional)",placeholder:"Add your topic here...",InputProps:{endAdornment:(0,C.jsx)(p.Z,{position:"end",children:(0,C.jsx)(m.Z,{edge:"end","aria-label":"Add Topic",disabled:5===P.length,onClick:function(){z((function(e){return[].concat((0,n.Z)(e),[_("dummyTopic")])})),H("dummyTopic","")},children:"Add Topic"})})}}),(0,C.jsx)(l.Z,{gap:1,top:95,flexWrap:"wrap",position:"absolute",flexDirection:"row",children:P.map((function(e,t){return(0,C.jsx)(h.Z,{label:e,variant:"outlined",sx:{justifyContent:"left",width:"fit-content"},onDelete:function(){return z((function(e){return e.filter((function(e,r){return r!==t}))}))}},t)}))})]})]})]}),(0,C.jsxs)(l.Z,{sx:{gap:2,flexDirection:r},children:[(0,C.jsx)(c.Z,{sx:{display:"flex",alignItems:"center"},children:"Start Host Automation Now"}),(0,C.jsx)(f.Z,{name:"startHostAutomation",label:"Start when guest starts",control:(0,C.jsx)(x.Z,{size:"medium"})})]}),(0,C.jsxs)(l.Z,{gap:2,flexDirection:"row",marginTop:4,children:[(0,C.jsx)(g.Z,{size:"large",type:"submit",shape:"circular",variant:"outlined",loading:B,children:"Add Guest"}),(0,C.jsx)(m.Z,{disabled:!0,size:"large",type:"button",color:"primary",shape:"circular",variant:"contained",endIcon:(0,C.jsx)(Z.Z,{arrow:!0,placement:"top",title:"Upload a spreadsheet of guests. Each column should match above fields labels EXACTLY (case sensitive so copy/paste).",children:(0,C.jsx)(S.Z,{icon:"mdi:question-mark-circle-outline"})}),children:"UPLOAD CSV"}),(0,C.jsx)(m.Z,{disabled:!0,color:"info",size:"large",type:"button",shape:"circular",variant:"contained",children:"AUTOMATE GUEST"})]})]})]})]})}}}]);
//# sourceMappingURL=422.7e5af11c.chunk.js.map