"use strict";(self.webpackChunkpdsq_frontend=self.webpackChunkpdsq_frontend||[]).push([[26],{659:function(e,n,t){t.d(n,{Z:function(){return u}});var o=t(1413),i=t(44925),a=t(93070),r=t(66770),l=t.n(r),s=t(80184),c=["name"];function u(e){var n=e.name,t=(0,i.Z)(e,c);return(0,s.jsx)(a.Z.Item,(0,o.Z)((0,o.Z)({name:n},null===t||void 0===t?void 0:t.formItemParams),{},{children:(0,s.jsx)(l(),(0,o.Z)({theme:"snow",modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],["link","image"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]]}},t))}))}},17026:function(e,n,t){t.r(n),t.d(n,{default:function(){return Se}});var o=t(29439),i=t(97892),a=t.n(i),r=t(72791),l=t(12584),s=t(59434),c=t(66862),u=t(57689),d=t(908),m=t(18406),h=t(48080),p=t(78302),v=t(93070),f=t(49389),g=t(66106),x=t(30914),j=t(88715),b=t(62648),Z=t(21306),y=t(71046),S=t(2641),w=t(74424),I=t(19517),k=t(83769),N=t(659),A=t(34105),T=t(74165),E=t(1413),C=t(15861),F=t(33805),P=t(5535),O=t(76452),R=t(61431),L=t(83204),U=t(64162),D=t(49367),_=t(40959),M=t(20043),G=t(91082),q=t(1429),B=t(28624),H=t(79286),V=t(66776),z=t(94729),W=t(63531),Y=t.n(W),J=t(80184),K=p.Z.Paragraph;function Q(){var e=v.Z.useFormInstance(),n=(0,r.useState)({blob:null,open:!1,audioName:"",timeLeft:120,recorder:null,audioDuration:0,isRecording:!1,recordingStartedAt:null}),t=(0,o.Z)(n,2),i=t[0],a=t[1],c=function(e){return a((function(n){return(0,E.Z)((0,E.Z)({},n),e)}))},u=i.blob,m=i.open,h=i.audioName,p=i.timeLeft,g=i.audioDuration,x=i.recorder,b=i.isRecording,Z=i.recordingStartedAt,y=(0,s.I0)(),w=(0,s.v9)((function(e){return e.files})),I=w.files,k=w.isLoading,N=w.isUploading,A=I.filter((function(e){return e.type===d.Gk.AUDIO})),F=function(){var e=(new Date).toLocaleString().replaceAll(",","").replaceAll(":","").replaceAll("/","").replaceAll(" ","_");return"Recording_".concat(e,".webm")},O=(0,r.useCallback)((function(){window.interval&&clearInterval(window.interval),x.stopRecording((function(){var e=new Blob([x.getBlob()],{type:"audio/webm"});x.stream.stop();var n=Math.floor((Date.now()-Z)/1e3);c({audioDuration:n,recorder:null,blob:e,isRecording:!1,audioName:F()})}))}),[x,Z]),R=function(){var e=(0,C.Z)((0,T.Z)().mark((function e(){var n;return(0,T.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=new FormData).append("duration",g),n.append("audio",u,h||F()),y((0,l.vw)(n)),c({blob:null,audioName:""});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){Z&&(window.interval=setInterval((function(){var e=120-Math.floor((Date.now()-Z)/1e3);e<=0?O():c({timeLeft:e})}),1e3))}),[Z,O]);return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(v.Z.Item,{name:"audioDuration",hidden:!0}),(0,J.jsxs)("div",{className:"flex-item gap-2 mb-2",children:[(0,J.jsx)(v.Z.Item,{name:"audio",label:"Audio",className:"w-40 m-0",children:(0,J.jsx)(P.Z,{loading:k,disabled:k,className:"minw-200px",placeholder:"Select an Audio",options:A.map((function(e){var n=e._id,t=e.name,o=e.duration;return{label:t,value:n,duration:void 0===o?0:o}})),onChange:function(n,t){var o=t.duration;return e.setFieldValue("audioDuration",o)}})}),(0,J.jsx)(S.ZP,{type:"link",icon:(0,J.jsx)(H.Z,{}),onClick:function(){return c({open:!0})},children:"ADD/MANAGE AUDIOS"})]}),(0,J.jsxs)(_.Z,{centered:!0,width:600,open:m,footer:!1,maskClosable:!1,title:"Add/Manage Audios",onCancel:function(){return c({blob:null,open:!1})},children:[(0,J.jsx)(K,{strong:!0,className:"m-0",children:"Record New Audio"}),(0,J.jsx)(K,{type:"secondary",children:"Max 2 minutes. The recording will auto stop after two minutes."}),(0,J.jsxs)(M.Z,{spinning:k,tip:"Uploading...",children:[(0,J.jsx)("audio",{src:u?URL.createObjectURL(u):"",controls:!0,className:"w-100 mb-1"}),u&&(0,J.jsx)(v.Z.Item,{label:"File Name (Optional)",children:(0,J.jsx)(f.Z,{value:h,disabled:b,placeholder:"Enter file name",onChange:function(e){return c({audioName:e.target.value})}})}),(0,J.jsxs)("div",{className:"flex-item gap-1 mb-1",children:[(0,J.jsx)(S.ZP,{htmlType:"button",onClick:function(){navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0}}).then((function(e){var n=new(Y())(e,{type:"audio",bufferSize:4096,sampleRate:44100,audioBitsPerSecond:128e3});n.stream=e,n.startRecording(),c({isRecording:!0,recorder:n,recordingStartedAt:Date.now()})}))},loading:b,children:b?(0,J.jsxs)(J.Fragment,{children:["Recording... ",(0,J.jsx)("span",{children:function(e){var n=Math.floor(e/60),t=e%60;return"".concat(n<10?"0".concat(n):n," :").concat(t<10?"0".concat(t):t)}(p)})," "]}):"Start Recording"}),(0,J.jsx)(S.ZP,{htmlType:"button",onClick:O,disabled:!b,children:"Stop Recording"}),(0,J.jsx)(S.ZP,{type:"primary",htmlType:"button",loading:N,onClick:R,disabled:!u||b,children:"Save Recording"})]})]}),(0,J.jsx)(z.Z,{style:{maxHeight:420,paddingRight:10},children:(0,J.jsx)(j.Z,{footer:!1,bordered:!1,loading:k,dataSource:A,header:"Available Audios",renderItem:function(e,n){var t=e._id,o=e.name;return(0,J.jsx)(j.Z.Item,{actions:[(0,J.jsx)(G.Z,{okText:"Yes",cancelText:"No",title:"Delete",onConfirm:function(){return y((0,l._I)(t))},description:"Are you sure to delete this Audio?",children:(0,J.jsx)(S.ZP,{danger:!0,size:"small",children:"Delete"})},"delete")],children:(0,J.jsx)(j.Z.Item.Meta,{title:"".concat(n+1,". ").concat(o),style:{alignItems:"center"}})})}})})]})]})}var X=t(24925),$=t(92143);function ee(e){var n=e.items,t=void 0===n?[]:n,o=e.defaultActive,i=void 0===o?"":o,a=e.marginBottom,r=void 0===a||a;return(0,J.jsx)(X.Z,{items:t,bordered:!1,className:"bg-F7F3F9 ".concat(r?"mb-2":""),defaultActiveKey:i?[i]:[],expandIcon:function(e){return e.isActive?(0,J.jsx)($.Z,{}):(0,J.jsx)(H.Z,{})}})}function ne(e){var n=e.open,t=e.onCancel;return(0,J.jsx)(_.Z,{centered:!0,open:n,footer:!1,title:"Suggestions",onCancel:t,children:(0,J.jsx)(z.Z,{style:{maxHeight:"calc(100vh - 200px)",paddingRight:10},children:(0,J.jsx)(j.Z,{header:!1,footer:!1,bordered:!1,dataSource:["BENEFIT TO VOTER:","Learn 3 mistakes to avoid...","Hear the juicy details","Ask Anything & Hear The Answer","Make our podcast perfect for you...","Have us discuss what you want to know","Hear some step by step instructions","Get free help from our guest speaker"],renderItem:function(e,n){return(0,J.jsxs)(j.Z.Item,{children:[n+1,". ",(0,J.jsx)(p.Z.Text,{copyable:!0,children:e})]})}})})})}var te=P.Z.Option,oe=O.Z.Dragger,ie=p.Z.Text,ae=p.Z.Paragraph;function re(){var e=(0,c.E)().user,n=v.Z.useFormInstance(),t=v.Z.useWatch("audioDuration",n),i=v.Z.useWatch("socialShareFileSrc",n),a=(0,r.useState)(0),u=(0,o.Z)(a,2),m=u[0],h=u[1],p=(0,r.useState)(!1),g=(0,o.Z)(p,2),x=g[0],b=g[1],Z=(0,r.useState)(!1),y=(0,o.Z)(Z,2),w=y[0],I=y[1],k=(0,r.useState)(!1),N=(0,o.Z)(k,2),A=N[0],O=N[1],W=(0,r.useState)(!1),Y=(0,o.Z)(W,2),K=Y[0],X=Y[1],$=(0,s.I0)(),re=(0,s.v9)((function(e){return e.files})),le=re.files,se=re.isLoading,ce=re.isUploading,ue=le.filter((function(e){return e.type===d.Gk.IMAGE})),de=function(e){return["pollSharingImage",e]},me=function(e){var t=e.label,o=e.title,i=e.formType;return(0,J.jsxs)("div",{className:"flex-item gap-2 mb-2",children:[(0,J.jsx)(v.Z.Item,{label:t,className:"w-40 m-0",name:de("".concat(i,"Text")),rules:[{max:45,message:"Maximum 45 character are allowed."}],children:(0,J.jsx)(f.Z,{maxLength:45,placeholder:"Enter the text here",suffix:(0,J.jsx)(R.Z,{title:"Show Suggestions",children:(0,J.jsx)(S.ZP,{type:"text",size:"small",icon:(0,J.jsx)(B.Z,{}),onClick:function(){return I(!0)}})})})}),(0,J.jsx)(v.Z.Item,{className:"flex-1 m-0",label:"".concat(o," BG COLOR"),name:de("".concat(i,"BgColor")),children:(0,J.jsx)(L.Z,{showText:!0,onChangeComplete:function(e){return n.setFieldValue(de("".concat(i,"BgColor")),e.toHexString())}})}),(0,J.jsx)(v.Z.Item,{className:"flex-1 m-0",label:"".concat(o," TEXT COLOR"),name:de("".concat(i,"TextColor")),children:(0,J.jsx)(L.Z,{showText:!0,onChangeComplete:function(e){return n.setFieldValue(de("".concat(i,"TextColor")),e.toHexString())}})})]})},he=function(){var o=(0,C.Z)((0,T.Z)().mark((function o(){var i,a,r,s,c,u,d,m,p,v,f,g,x;return(0,T.Z)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(s=n.getFieldsValue(),c=s.audio,u=s.guest,d=s.pollSharingImage,m=s.hostSpeakerLabel,p=s.guestSpeakerLabel,(v=(0,E.Z)((0,E.Z)({},d),{},{audio:c,userLogo:(null===u||void 0===u?void 0:u.picture)||"",showLogo:null===(i=ue.find((function(e){return e._id===d.logo})))||void 0===i?void 0:i.s3Path,host:{fontColor:"#000000",label:m,text:"".concat(e.firstName," ").concat(e.lastName," ").concat(null!==e&&void 0!==e&&null!==(a=e.profile)&&void 0!==a&&a.organization?"(".concat(null===e||void 0===e||null===(r=e.profile)||void 0===r?void 0:r.organization,")"):"")},guest:{fontColor:"#000000",label:p,text:"".concat(u.fullName," ").concat(u.organization?"(".concat(u.organization,")"):"")}})).userLogo){o.next=7;break}return o.abrupt("return",U.Z.error({message:"Error",description:"Please upload your headshot image first."}));case 7:if(v.showLogo){o.next=9;break}return o.abrupt("return",U.Z.error({message:"Error",description:"Please select a logo image"}));case 9:return b(!0),h(t||60),o.prev=11,o.next=14,(0,l.TQ)(v);case 14:f=o.sent,g=f.imageS3Path,x=f.videoS3Path,n.setFieldValue("pollImageSrc",g),x&&n.setFieldValue("socialShareFileSrc",x),U.Z.success({message:"Success",description:"Automation sharing image generated successfully"}),o.next=26;break;case 22:o.prev=22,o.t0=o.catch(11),console.error(o.t0),U.Z.error({message:"Error",description:"Something went wrong"});case 26:return o.prev=26,b(!1),o.finish(26);case 29:case"end":return o.stop()}}),o,null,[[11,22,26,29]])})));return function(){return o.apply(this,arguments)}}(),pe=[{key:"pollSharingImage",label:"Customize Automation Sharing Image",children:(0,J.jsxs)(J.Fragment,{children:[(0,J.jsxs)("div",{className:"flex-item gap-2 mb-2",children:[(0,J.jsx)(v.Z.Item,{label:"LOGO IMAGE FROM",name:de("logo"),className:"w-40 m-0",children:(0,J.jsx)(P.Z,{loading:se,disabled:se,className:"minw-200px",placeholder:"Select an Image",children:ue.map((function(e){var n=e._id,t=e.name,o=e.s3Path;return(0,J.jsxs)(te,{value:n,children:[(0,J.jsx)(D.C,{src:(0,F.fE)(o),size:32}),(0,J.jsx)(ie,{style:{marginLeft:5},children:t})]},n)}))})}),(0,J.jsx)(S.ZP,{type:"link",icon:(0,J.jsx)(H.Z,{}),onClick:function(){return O(!0)},children:"ADD/MANAGE IMAGES"})]}),(0,J.jsx)(me,{label:"HEADLINE HOOK",title:"HEADLINE",formType:"header"}),(0,J.jsx)(me,{label:"FOOTER BENEFIT",title:"FOOTER",formType:"footer"}),(0,J.jsx)(Q,{name:de("audio")}),(0,J.jsxs)("div",{className:"flex-item gap-2 mt-4",children:[(0,J.jsx)(S.ZP,{danger:!0,type:"primary",loading:x,onClick:he,children:"Generate Video Invitation Post"}),(0,J.jsx)(S.ZP,{type:"default",disabled:!i,onClick:function(){return X(!0)},children:"Preview Video Invitation Post"}),(0,J.jsx)(_.Z,{centered:!0,width:"50%",footer:!1,open:K,title:"Preview Video Invitation Post",onCancel:function(){return X(!1)},children:(0,J.jsx)("video",{src:(0,F.fE)(i),controls:!0,style:{width:"100%",height:"auto"}})})]})]})}],ve={name:"file",multiple:!0,showUploadList:!1,accept:".png, .gif, .jpeg, .jpg",customRequest:function(){var e=(0,C.Z)((0,T.Z)().mark((function e(n){var t,o;return(0,T.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.file,(o=new FileReader).readAsDataURL(t),o.onload=(0,C.Z)((0,T.Z)().mark((function e(){var n,i;return(0,T.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=o.result.split(",")[1],i={images:[{name:t.name,imageData:"data:".concat(t.type,";base64,").concat(n)}]},$((0,l.eg)(i));case 3:case"end":return e.stop()}}),e)})));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)}};return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(ee,{items:pe,defaultActive:"pollSharingImage"}),(0,J.jsx)(ne,{open:w,onCancel:function(){return I(!1)}}),(0,J.jsxs)(_.Z,{centered:!0,footer:!1,title:"Add/Manage Images",open:A,onCancel:function(){return O(!1)},children:[(0,J.jsx)(ae,{children:"Add New Image"}),(0,J.jsx)(M.Z,{spinning:ce,tip:"Uploading...",children:(0,J.jsxs)(oe,(0,E.Z)((0,E.Z)({},ve),{},{children:[(0,J.jsx)("p",{className:"ant-upload-drag-icon",children:(0,J.jsx)(V.Z,{})}),(0,J.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,J.jsx)("p",{className:"ant-upload-hint",children:"Supported file types: PNG/JPG/JPEG"})]}))}),(0,J.jsx)(z.Z,{style:{maxHeight:420,paddingRight:10},children:(0,J.jsx)(j.Z,{footer:!1,bordered:!1,loading:se,dataSource:ue,header:"Available Images",renderItem:function(e){var n=e._id,t=e.name,o=e.s3Path;return(0,J.jsx)(j.Z.Item,{actions:[(0,J.jsx)(G.Z,{okText:"Yes",cancelText:"No",title:"Delete Image",onConfirm:function(){return $((0,l._I)(n))},description:"Are you sure to delete this image?",children:(0,J.jsx)(S.ZP,{danger:!0,size:"small",children:"Delete"})},"delete")],children:(0,J.jsx)(j.Z.Item.Meta,{title:t,style:{alignItems:"center"},avatar:(0,J.jsx)(D.C,{src:(0,F.fE)(o)})})})}})})]}),(0,J.jsxs)(_.Z,{centered:!0,footer:!1,destroyOnClose:!0,closable:!1,keyboard:!1,open:x,maskClosable:!1,title:"Video is getting Generated...",children:[(0,J.jsx)(ae,{className:"mt-2",children:"Please wait while we generate your video. This may take a few minutes."}),(0,J.jsx)(q.Z.Countdown,{format:"mm:ss",title:"Estimated Time:",className:"text-center wait-countdown",value:Date.now()+3*m*1e3,onFinish:function(){return h(t||60)}})]})]})}var le=t(4942),se=t(29966),ce=t(89862),ue=t(71234);function de(){var e=v.Z.useFormInstance(),n=v.Z.useWatch("socials",e)||[],t=[4,3,2,1].map((function(e){return{value:e,label:"Post [".concat(e,"x] monthly")}})),o=function(t,o,i){var a=n.map((function(e){return e._id===t?(0,E.Z)((0,E.Z)({},e),{},(0,le.Z)({},o,i)):e}));e.setFieldValue("socials",a)},i=n.length>0,a=[{key:"social",label:"Confirm Socials & Posting Frequency",children:(0,J.jsxs)("div",{className:"flex-item gap-1 flex-column align-baseline",children:[(0,J.jsx)(v.Z.Item,{name:"socials",hidden:!0,children:(0,J.jsx)("input",{})}),i&&n.map((function(e){var n=e._id,i=e.type,a=e.subType,r=e.subTypeName,l=void 0===r?"":r,s=e.isActive,c=e.frequency,u=e.isConnected;return(0,J.jsxs)("div",{className:"flex-item gap-1 flex-auto",children:[(0,J.jsx)(ce.Z,{checked:s,className:"uppercase",disabled:!u,onChange:function(e){return o(n,"isActive",e.target.checked)},children:(0,m.dh)(i,a,l)}),(0,J.jsx)(P.Z,{size:"small",defaultValue:4,value:c,placeholder:"Select",disabled:!u,options:t,style:{minWidth:200},onChange:function(e){return o(n,"frequency",e)}}),!u&&(0,J.jsx)(R.Z,{color:"red",arrow:!1,title:"Please connect your social account to enable this automation.",children:(0,J.jsxs)(S.ZP,{danger:!0,type:"text",size:"small",shape:"circle",icon:(0,J.jsx)(se.Z,{}),children:["Account Disconnected"," "]})})]},n)})),!i&&(0,J.jsx)(ue.Z,{showIcon:!0,style:{fontWeight:600},message:"No social media accounts found. Please connect your social media accounts first."})]})}];return(0,J.jsx)(ee,{items:a,defaultActive:"social",marginBottom:!1})}var me=t(64590),he=p.Z.Text,pe=p.Z.Title,ve=p.Z.Paragraph,fe=d.Jh.HOST_GUEST,ge=d.Jh.SOLO_SESSION,xe=[{label:"FULL NAME",name:["guest","fullName"],rules:[{required:!0}]},{label:"CELL PHONE",name:["guest","phone"]},{label:"EMAIL ADDRESS",name:["guest","email"],rules:[{required:!0}]},{name:["guest","about"],label:"BIO OR SOCIAL URL"},{name:["guest","jobTitle"],label:"JOB TITLE"},{name:["guest","organization"],label:"ORGANIZATION"}],je=["TOPIC OR STORY1","TOPIC OR STORY2"],be=[{name:"hostSpeakerLabel",label:"YOUR SPEAKER LABEL"},{name:"guestSpeakerLabel",label:"THEIR SPEAKER LABEL"},{name:"hostOfferUrl",label:"YOUR REWARD URL"},{name:"guestOfferUrl",label:"THEIR REWARD URL"}],Ze=function(){var e,n,t,o,i,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{email:null===a||void 0===a?void 0:a.email,phone:a?null===(e=a.profile)||void 0===e?void 0:e.phone:"",about:a?null===a||void 0===a||null===(n=a.profile)||void 0===n?void 0:n.about:"",picture:a?null===a||void 0===a||null===(t=a.profile)||void 0===t?void 0:t.picture:"",jobTitle:a?null===a||void 0===a||null===(o=a.profile)||void 0===o?void 0:o.jobTitle:"",organization:a?null===a||void 0===a||null===(i=a.profile)||void 0===i?void 0:i.organization:"",fullName:a?"".concat(null===a||void 0===a?void 0:a.firstName," ").concat(null===a||void 0===a?void 0:a.lastName):""}},ye=function(e){var n=e||{},t=n.logo,o=n.header,i=void 0===o?null:o,a=n.footer,r=void 0===a?null:a;return{logo:t,headerText:i&&(null===i||void 0===i?void 0:i.text)||"",headerBgColor:i&&(null===i||void 0===i?void 0:i.bgColor)||"#1677FF",headerTextColor:i&&i.textColor||"#FFFFFF",footerText:r&&(null===r||void 0===r?void 0:r.text)||"",footerBgColor:r&&(null===r||void 0===r?void 0:r.bgColor)||"#1677FF",footerTextColor:r&&(null===r||void 0===r?void 0:r.textColor)||"#FFFFFF"}};function Se(e){var n,t=e.isGuestAcceptance,i=void 0!==t&&t,p=(0,u.UO)().id,T=v.Z.useForm(),E=(0,o.Z)(T,1)[0],C=(0,s.I0)(),F=(0,u.s0)(),P=(0,c.E)().user,O=(0,r.useState)(1),R=(0,o.Z)(O,2),L=R[0],U=R[1],D=void 0===p,_=v.Z.useWatch("guestType",E),M=_===ge,G=(0,s.v9)((function(e){return e.guests})),q=G.guest,B=G.error,H=G.isLoading,V=G.isPublished,z=G.isPublishing,W=q||{},Y=W.audio,K=void 0===Y?null:Y,Q=W.socials,X=void 0===Q?[]:Q,$=W.guest,ee=W.pollImageSrc,ne=void 0===ee?"":ee,te=W.pollImageInfo,oe=void 0===te?null:te,ie=W.hostOfferUrl,ae=void 0===ie?null:ie,le=W.guestOfferUrl,se=void 0===le?null:le,ce=W.recordingDate,ue=void 0===ce?null:ce,Se=W.guestType,we=void 0===Se?fe:Se,Ie=W.hostSpeakerLabel,ke=void 0===Ie?"":Ie,Ne=W.guestSpeakerLabel,Ae=void 0===Ne?"":Ne,Te=W.socialShareFileSrc,Ee=void 0===Te?"":Te,Ce=W.potentialTopics,Fe=void 0===Ce?["",""]:Ce,Pe=W.startHostAutomation,Oe=void 0!==Pe&&Pe,Re=W.emailTemplate,Le=void 0===Re?{subject:"[USER_FULLNAME] next steps",body:"Hi [GUEST_FIRSTNAME], it's [USER_FULLNAME]. [CUSTOMIZE THE FOLLOWING PHRASING & REMOVE THIS RED TEXT: I'm looking forward to featuring you on my podcast, \"Branded Expert.\" Let's grow the audience even before we record. Here's how we'll increase your reach:\n      We should start building interest in what we'll talk about now itself. We don't have to finalize our talking points yet: Instead of guessing what others want to know from us... Let's ask them (using social media & email).\n      I chose 2 possible topics for our connections to vote on. They can even privately suggest their own topics for us.\n      I've already setup everything through a website called Upplaud. It'll post on our Facebook and LinkedIn, inviting our connections to vote. \n      It doesn't matter how active you are on social media: People on Facebook & LinkedIn love participating like this (and will even share you with others). We can even share our Upplaud through email, etc. \n      All you need to do is click the button below. Upplaud will post on our social media, inviting our connections to vote on the topics. (I've already connected my Facebook & LinkedIn.)\n      It only takes a few seconds to do. Thanks for doing it now: Every day counts to grow our audience interest. More time for more votes, more shares & more results.\n      The button to click is right below my name (be sure to save the Private Invite Password, since only you can connect & toggle your social media). I'm happy we're growing this together!\n      \n      Thanks, see you soon.\n      - [USER_FIRSTNAME]\n    "}:Re;console.log("guest",q);var Ue=(0,m.K6)((null===P||void 0===P?void 0:P.socialAccounts)||[]);(0,r.useEffect)((function(){return C((0,l.bE)()),!D&&p&&C((0,h.wY)(p)),function(){return C((0,h.xq)({guest:null}))}}),[D,p,C]),(0,r.useEffect)((function(){return q&&E.resetFields(),function(){return E.resetFields()}}),[q,E]),(0,r.useEffect)((function(){var e=Ze(M?P:$),n=e.email,t=e.phone,o=e.about,i=e.picture,a=e.fullName;E.setFieldsValue({guest:{email:n,phone:t,about:o,picture:i,fullName:a}})}),[P,$,E,M]),(0,r.useEffect)((function(){return B&&403===B.status&&F("/403"),function(){return C((0,h.xq)({error:null}))}}),[B,F,C]);var De={guestType:we,pollImageSrc:ne,hostOfferUrl:ae,emailTemplate:Le,guestOfferUrl:se,potentialTopics:Fe,hostSpeakerLabel:ke,guestSpeakerLabel:Ae,socialShareFileSrc:Ee,startHostAutomation:Oe,audio:(null===K||void 0===K?void 0:K._id)||null,audioDuration:(null===K||void 0===K?void 0:K.duration)||0,guest:Ze($),socials:X.length>0?X:Ue,pollSharingImage:ye(oe),recordingDate:ue?a()(ue,"YYYY/MM/DD"):null},_e=function(e){E.validateFields().then((function(n){n.status=e,n.recordingDate=a()(null===n||void 0===n?void 0:n.recordingDate).format(),C(D?(0,h.hw)(n):(0,h.sF)(p,n))})).catch(console.log)},Me=[{title:"Got your info",className:"pointer-none",content:(0,J.jsx)("span",{children:"current-user-details"})},{title:"Guest info",content:(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(pe,{level:5,children:null===(n=(0,m.Ug)(_))||void 0===n?void 0:n.text}),xe.map((function(e){var n=e.label,t=e.name,o=e.rules,i=void 0===o?null:o;return(0,J.jsx)(v.Z.Item,{name:t,label:n,rules:M?null:i,children:(0,J.jsx)(f.Z,{placeholder:n,disabled:M})},n)})),(0,J.jsx)(v.Z.Item,{name:["guest","picture"],label:"HEADSHOT IMAGE",className:"m-0",children:(0,J.jsx)(A.Z,{picture:v.Z.useWatch(["guest","picture"],E),onChange:function(e){return E.setFieldValue(["guest","picture"],e)}})})]})},{title:"Topics info",content:(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(pe,{level:5,children:"Automation Info"}),je.map((function(e,n){return(0,J.jsx)(v.Z.Item,{label:e,rules:[{required:!0}],name:["potentialTopics",n],children:(0,J.jsx)(f.Z,{placeholder:e})},n)})),be.map((function(e,n){var t=e.name,o=e.label;return(0,J.jsx)(v.Z.Item,{name:t,label:o,className:be.length-1===n?"m-0":"",children:(0,J.jsx)(f.Z,{placeholder:o})},o)}))]})},{title:"Voter invites",content:(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(re,{}),(0,J.jsx)(de,{})]})},{title:"Guest invites",content:(0,J.jsxs)(g.Z,{gutter:[24],children:[(0,J.jsxs)(x.Z,{span:18,children:[(0,J.jsx)(pe,{level:4,className:"mt-0",children:"Invite Email"}),(0,J.jsx)(ve,{strong:!0,className:"mb-1",children:"Subject"}),(0,J.jsx)(v.Z.Item,{name:["emailTemplate","subject"],wrapperCol:24,children:(0,J.jsx)(f.Z,{placeholder:"Subject"})}),(0,J.jsx)(ve,{strong:!0,className:"mb-1",children:"Body"}),(0,J.jsx)(N.Z,{name:["emailTemplate","body"],placeholder:"Enter your text here...",formItemParams:{className:"m-0",wrapperCol:24}})]}),(0,J.jsxs)(x.Z,{span:6,children:[(0,J.jsx)(pe,{level:5,className:"mt-0",children:"Short Codes"}),(0,J.jsx)(j.Z,{bordered:!0,size:"small",itemLayout:"horizontal",renderItem:function(e){return(0,J.jsx)(j.Z.Item,{children:e})},dataSource:["[USER_FIRSTNAME]","[USER_LASTNAME]","[USER_FULLNAME]","[GUEST_FIRSTNAME]","[GUEST_LASTNAME]","[GUEST_FULLNAME]"]})]})]})},{title:"UPPLAUD LAUNCH",content:(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(v.Z.Item,{className:"w-50 mt-4",name:"recordingDate",label:"Automation End Date",rules:[{required:!0}],children:(0,J.jsx)(b.Z,{className:"w-75 ml-0",disabledDate:function(e){return e&&(e<a()().subtract(1,"day")||e>a()().add(1,"years"))}})}),(0,J.jsxs)("div",{className:"flex-item",children:[(0,J.jsx)(v.Z.Item,{className:"m-0",valuePropName:"checked",label:"POSTING STARTS NOW",name:"startHostAutomation",labelCol:{span:20},children:(0,J.jsx)(Z.Z,{disabled:M})}),(0,J.jsx)(he,{type:"secondary",className:"ml-1",children:"Start when they starts"})]}),(0,J.jsxs)(y.Z,{size:20,className:"mt-4",children:[(0,J.jsx)(S.ZP,{onClick:function(){return U((function(e){return e-1}))},children:"Back"}),(0,J.jsx)(S.ZP,{loading:H&&!z,onClick:function(){return _e(d.K4.DRAFT)},children:"SAVE DRAFT"}),(0,J.jsx)(S.ZP,{type:"primary",loading:H&&z,onClick:function(){return _e(d.K4.PUBLISHED)},children:"LAUNCH AUTOMATION"})]})]})}];return(0,J.jsxs)("div",{className:"automation-form",children:[!i&&(0,J.jsx)(k.Z,{title:"".concat(D?"New":"Update"," Automation")}),(0,J.jsxs)("div",{className:"add-guest",children:[(0,J.jsx)(pe,{className:"m-0",children:"NEW UPPLAUD AUTOMATION"}),!V&&(0,J.jsx)(pe,{level:5,className:"fw-400",type:"secondary",children:"Pull in more interest when your upplaud automation is posted automatically."})]}),!V&&(0,J.jsxs)(v.Z,{form:E,size:"large",labelWrap:!0,labelAlign:"left",layout:"horizontal",labelCol:{span:7},wrapperCol:{span:17},initialValues:De,children:[(0,J.jsx)(v.Z.Item,{hidden:!0,name:"pollImageSrc",label:"Poll Image",children:(0,J.jsx)(f.Z,{placeholder:"Poll Image"})}),(0,J.jsx)(v.Z.Item,{hidden:!0,name:"socialShareFileSrc",label:"Social Share File",children:(0,J.jsx)(f.Z,{placeholder:"Social Share File"})}),(0,J.jsx)(v.Z.Item,{name:"guestType",className:"mb-1",children:(0,J.jsx)(w.ZP.Group,{options:m.Qg})}),(0,J.jsx)(pe,{level:4,className:"mt-0",children:"Quick Steps:"}),(0,J.jsx)(I.Z,{current:L,items:Me,onChange:U}),Me.map((function(e,n){return(0,J.jsx)("div",{className:"mt-2 mb-2",style:{display:L===n?"block":"none"},children:null===e||void 0===e?void 0:e.content},n)})),L!==Me.length-1&&(0,J.jsxs)("div",{className:"flex-item gap-1 flex-center",children:[L<Me.length-1&&(0,J.jsx)(S.ZP,{type:"primary",onClick:function(){U((function(e){return e+1}))},children:"Next Step"}),L>1&&(0,J.jsx)(S.ZP,{onClick:function(){return U((function(e){return e-1}))},children:"Back"})]})]}),V&&(0,J.jsx)(me.Z,{guest:q,showActionBtns:!0,onGoBack:function(){return C((0,h.xq)({isPublished:!1}))}})]})}},64590:function(e,n,t){t.d(n,{Z:function(){return b}});var o=t(93433),i=t(29439),a=t(72791),r=t(78302),l=t(2641),s=t(40959),c=t(57689),u=t(11087),d=t(33805),m=t(38072),h=t(908),p=t(48586),v=t(99372),f=t(67575),g=t(80184);function x(e){var n=e.text,t=void 0===n?"":n,o=e.className,i=void 0===o?"":o,a=e.onCopy,l=void 0===a?function(){}:a;return(0,g.jsx)("div",{className:"p-1 br-5px bg-sky-6 border-sky-1 ".concat(i),children:(0,g.jsx)(r.Z.Paragraph,{ellipsis:!0,copyable:{onCopy:l},className:"m-0 flex-item space-between",children:t})})}var j=r.Z.Title;function b(e){var n=e.guest,t=e.showActionBtns,r=void 0!==t&&t,b=e.onGoBack,Z=void 0===b?function(){}:b,y=(0,c.s0)(),S=(0,a.useState)(!1),w=(0,i.Z)(S,2),I=w[0],k=w[1],N=((null===n||void 0===n?void 0:n.socials)||[]).reduce((function(e,n){if(!n||!n.isConnected)return e;var t=n.type,i=n.subType;return[].concat((0,o.Z)(e),["".concat(h.WU[t]," ").concat(i)])}),[]);return(0,g.jsxs)("div",{className:"mt-2 bg-F7F3F9 p-3 br-5px",children:[(0,g.jsx)(j,{level:3,children:"\ud83d\udc4f Congrats, your new Upplaud is ready to pull in new interest!"}),(0,g.jsxs)(j,{level:5,children:["Voters will be directed to:"," ",(0,g.jsx)(u.rU,{target:"_blank",to:"/vote/".concat(null===n||void 0===n?void 0:n._id),children:"Voting Page"})]}),(0,g.jsx)(j,{level:5,children:"You've connected:"}),(0,g.jsx)("ul",{children:N.map((function(e,n){return(0,g.jsx)("li",{className:"capitalize",children:e},n)}))}),(0,g.jsxs)(j,{level:5,children:["Preview your voter invitation video:"," ",(0,g.jsx)(l.ZP,{className:"ml-1",icon:(0,g.jsx)(p.Z,{}),onClick:function(){return k(!0)},children:"Preview Video"})]}),(0,g.jsxs)(j,{level:5,className:"mb-1",children:["Your guest will be invited to connect here:"," ",(0,g.jsx)(u.rU,{target:"_blank",to:"/guest-acceptance/".concat(null===n||void 0===n?void 0:n._id),children:"Guest Invitation Page"})]}),(0,g.jsxs)(j,{level:5,className:"mt-0",children:["Their private invite password is:"," ",(0,g.jsx)(x,{text:null===n||void 0===n?void 0:n.password,className:"d-inline-block w-125px ml-1"})]}),(0,g.jsxs)(j,{level:4,children:["We'll start posting ","<when your guest connects their social media or> <later today!>"]}),r&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(l.ZP,{type:"default",size:"large",onClick:Z,icon:(0,g.jsx)(v.Z,{}),children:"Go back to make any changes."}),(0,g.jsx)(l.ZP,{type:"primary",size:"large",className:"d-block mt-2",icon:(0,g.jsx)(f.Z,{}),onClick:function(){return y(m.vB.dashboard.automations)},children:"CONFIRM YOUR NEW UPPLAUD & SEE YOUR OTHER AUTOMATIONS"})]}),(0,g.jsx)(s.Z,{centered:!0,width:"50%",footer:!1,open:I,title:"Preview Video Invitation Post",onCancel:function(){return k(!1)},children:(0,g.jsx)("video",{controls:!0,style:{width:"100%",height:"auto"},src:(0,d.fE)(null===n||void 0===n?void 0:n.socialShareFileSrc)})})]})}},34105:function(e,n,t){t.d(n,{Z:function(){return j}});var o=t(49367),i=t(2641),a=t(1413),r=t(74165),l=t(15861),s=t(29439),c=t(58533),u=t(72791),d=t(57960),m=t(76452),h=t(20043),p=t(12584),v=t(80184);function f(e){var n=e.onComplete,t=e.children,o=e.cropShape,i=void 0===o?"round":o,f=e.aspect,g=void 0===f?1:f,x=(0,u.useState)(!1),j=(0,s.Z)(x,2),b=j[0],Z=j[1],y=function(e){return!!["image/png","image/jpg","image/jpeg"].includes(e.type.toLowerCase())||(d.ZP.error("You can only upload JPG/PNG file!"),!1)},S={name:"file",beforeUpload:y,multiple:!1,showUploadList:!1,accept:".png, .jpeg, .jpg",customRequest:function(e){var t=e.file,o=new FileReader;o.onloadend=(0,l.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Z(!0),e.next=4,(0,p.Vg)({imageData:o.result});case 4:t=e.sent,Z(!1),n(null===t||void 0===t?void 0:t.s3Path),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),Z(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),o.readAsDataURL(t)}};return(0,v.jsx)(c.Z,{showReset:!0,rotationSlider:!0,aspect:g,modalOk:"Upload",cropShape:i,fillColor:"transparent",beforeCrop:y,children:(0,v.jsx)(m.Z,(0,a.Z)((0,a.Z)({},S),{},{children:(0,v.jsx)(h.Z,{spinning:b,children:t})}))})}var g=t(72351),x=t(33805);function j(e){var n=e.picture,t=void 0===n?"":n,a=e.onChange,r=t?t.startsWith("http")?t:(0,x.fE)(t):null;return(0,v.jsxs)("div",{className:"flex-item",children:[r&&(0,v.jsx)(o.C,{size:"large",src:r}),(0,v.jsx)(f,{onComplete:a,children:(0,v.jsxs)(i.ZP,{icon:(0,v.jsx)(g.Z,{}),children:["Click to ",r?"Change":"Upload"]})})]})}},18406:function(e,n,t){t.d(n,{K6:function(){return j},MD:function(){return b},Qg:function(){return f},Ug:function(){return g},dh:function(){return x},fh:function(){return v},mr:function(){return p}});var o=t(29439),i=t(93433),a=t(25415),r=t(908),l=r.lr.FACEBOOK,s=r.Jh.HOST_GUEST,c=r.Jh.SOLO_SESSION,u=r.np.PROFILE,d=r.np.PAGE,m=r.np.GROUP,h=["##E91E63","#673AB7","#2196F3","#00BCD4","#FF9800","#8BC34A","#009688","#FF5722","#607D8B","#F44336"],p=function(){return h[Math.floor(Math.random()*h.length)]},v=function(e){return new Date(e).toDateString()},f=[{key:s,value:s,label:"JOINT SESSION",text:"Their Info"},{key:c,value:c,label:"SOLO SESSION",text:"Your Info"}],g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return f.find((function(n){return n.key===e}))},x=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=function(e){return r.WU[e]}(e);return n===u?"YOUR ".concat(o," PROFILE"):n===d?"YOUR ".concat(o," PAGE: ").concat(t):n===m?"YOUR ".concat(o," GROUP: ").concat(t):""},j=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,n){if(null===n||void 0===n||!n.isConnected)return e;var t=n.type,o=n.socialId,a=n.page,r=n.group,s=function(e,n){return{type:t,subType:e,frequency:arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,subTypeId:n,subTypeName:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",isActive:!1,_id:"".concat(t,"_").concat(e),isConnected:(n||"").toString().length>0}},c=function(e){var n;return(null===e||void 0===e||null===(n=e.accounts.find((function(n){return n.id===(null===e||void 0===e?void 0:e.socialId)})))||void 0===n?void 0:n.name)||""},h=[].concat((0,i.Z)(e),[s(u,o),s(d,null===a||void 0===a?void 0:a.socialId,c(a))]);return t===l?[].concat((0,i.Z)(h),[s(m,null===r||void 0===r?void 0:r.socialId,c(a))]):h}),[])},b=function(e){var n=new a.Workbook,t=n.addWorksheet("Voting Data"),i=(e[0]||{}).questionnaireAnswers,r=void 0===i?[]:i,l=(0,o.Z)(r,4),s=l[0],c=l[1],u=l[2],d=l[3];t.columns=[{header:"Selected Topic",key:"topic"},{header:"Voter Name",key:"voter_name"},{header:"Voter Email",key:"voter_email"},{header:"Voter Cell Phone",key:"voter_cellphone"},{header:"User Suggested",key:"isSuggestion"},{header:"Suggested Topic",key:"suggested_topic"},{header:"Suggested Speaker",key:"suggested_speaker"},{header:"Question 1: ".concat(null===s||void 0===s?void 0:s.question),key:"quest1"},{header:"Question 2: ".concat(null===c||void 0===c?void 0:c.question),key:"quest2"},{header:"Referral 1",key:"quest2_referral1"},{header:"Referral 2",key:"quest2_referral2"},{header:"Name",key:"quest2_name"},{header:"Email",key:"quest2_email"},{header:"Question 3: ".concat(null===u||void 0===u?void 0:u.question),key:"quest3"},{header:"Question 4: ".concat(null===d||void 0===d?void 0:d.question),key:"quest4"},{header:"Timestamp",key:"timestamp"}],e.forEach((function(e){var n,i,a,r,l,s,c=e.selectedTopic,u=e.voter,d=e.isSuggestion,m=e.suggestions,h=e.createdAt,p=e.questionnaireAnswers,v=(0,o.Z)(p,4),f=v[0],g=v[1],x=v[2],j=v[3];t.addRow({topic:(null===c||void 0===c?void 0:c.topic)||"Other",voter_name:(null===u||void 0===u?void 0:u.name)||"--",voter_email:(null===u||void 0===u?void 0:u.email)||"--",voter_cellphone:(null===u||void 0===u?void 0:u.cell_phone)||"--",isSuggestion:d?"Yes":"No",suggested_topic:(null===m||void 0===m?void 0:m.topic)||"--",suggested_speaker:(null===m||void 0===m?void 0:m.speaker)||"--",quest1:f&&(null===f||void 0===f?void 0:f.answers)||"--",quest2:null!==g&&void 0!==g&&g.answers?"Comment: ".concat((null===g||void 0===g||null===(n=g.answers)||void 0===n?void 0:n.comment)||"--"):"--",quest2_referral1:(null===g||void 0===g||null===(i=g.answers)||void 0===i?void 0:i.referral1)||"--",quest2_referral2:(null===g||void 0===g||null===(a=g.answers)||void 0===a?void 0:a.referral2)||"--",quest2_name:(null===g||void 0===g||null===(r=g.answers)||void 0===r?void 0:r.name)||"--",quest2_email:(null===g||void 0===g||null===(l=g.answers)||void 0===l?void 0:l.email)||"--",quest3:x&&(null===x||void 0===x||null===(s=x.answers)||void 0===s?void 0:s.answer)||"--",quest4:j?null!==j&&void 0!==j&&j.doneSharing?"Yes":"No":"--",timestamp:new Date(h).toLocaleString()})})),n.xlsx.writeBuffer().then((function(e){var n=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),t=window.URL.createObjectURL(n),o=document.createElement("a");o.href=t,o.download="VotingData.xlsx",o.click()}))}}}]);
//# sourceMappingURL=26.5de6be7f.chunk.js.map