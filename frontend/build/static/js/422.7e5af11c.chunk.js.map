{"version":3,"file":"static/js/422.7e5af11c.chunk.js","mappings":"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","sources":["actions/guests.js","pages/guestii/AddGuest.js"],"sourcesContent":["import axios from '../utils/axios';\n\nexport const addUpdateGuest = async (info, guestId = null) => {\n  try {\n    if (guestId) {\n      const { data } = await axios.put(`guests/${guestId}`, info);\n      return data;\n    }\n\n    const { data } = await axios.post('guests', info);\n    return data;\n  } catch (error) {\n    return error;\n  }\n};\n\nexport const getGuestsList = async (showId) => {\n  try {\n    const { data } = await axios.get(`guests/list/${showId}`);\n    return data;\n  } catch (error) {\n    return error;\n  }\n};\n","import {\n  Chip,\n  Alert,\n  Stack,\n  Button,\n  Switch,\n  Tooltip,\n  Container,\n  Typography,\n  InputAdornment,\n  FormControlLabel,\n} from '@mui/material';\nimport { useState } from 'react';\nimport { LoadingButton } from '@mui/lab';\nimport * as Yup from 'yup';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { useSnackbar } from 'notistack';\nimport { addUpdateGuest } from '../../actions/guests';\nimport useResponsive from '../../hooks/useResponsive';\nimport Iconify from '../../components/iconify';\nimport FormProvider, { RHFTextField, RHFDateField } from '../../components/hook-form';\nimport { useSettingsContext } from '../../components/settings';\nimport AppTitle from '../../components/AppTitle';\n\nexport default function AccountAdmin() {\n  const { enqueueSnackbar } = useSnackbar();\n  const { themeStretch } = useSettingsContext();\n\n  const isDesktop = useResponsive('up', 'lg');\n  const flexDirection = isDesktop ? 'row' : 'column';\n\n  const AccountSchema = Yup.object().shape({\n    firstName: Yup.string().required('First name is Required'),\n    jobTitle: Yup.string().required('Please fill the Job Title'),\n    recordingDate: Yup.date().required('Please choose a recording date.'),\n    email: Yup.string().required('Email is required').email('Email must be a valid email address'),\n  });\n\n  const defaultValues = {\n    firstName: '',\n    lastName: '',\n    email: '',\n    jobTitle: '',\n    recordingDate: '',\n    startHostAutomation: false,\n    dummyTopic: '', // just to save the topics\n  };\n\n  const [topics, setTopics] = useState([]);\n\n  const methods = useForm({\n    resolver: yupResolver(AccountSchema),\n    defaultValues,\n  });\n\n  const {\n    reset,\n    watch,\n    setError,\n    setValue,\n    handleSubmit,\n    formState: { errors, isSubmitting },\n  } = methods;\n\n  const onSubmit = async (data) => {\n    try {\n      await addUpdateGuest({ ...data, potentialTopics: topics });\n\n      setTopics([]);\n      reset(defaultValues);\n      enqueueSnackbar('Guest added successfully!', {\n        variant: 'success',\n        anchorOrigin: { vertical: 'top', horizontal: 'center' },\n      });\n    } catch (error) {\n      console.error(error);\n\n      reset();\n      setError('afterSubmit', { ...error, message: error.message || error });\n    }\n  };\n\n  return (\n    <>\n      <AppTitle title=\"Add Guest\" />\n\n      <Container maxWidth={themeStretch ? false : 'xl'}>\n        <Typography variant=\"h3\" component=\"h1\">\n          Add Guest\n        </Typography>\n\n        <Typography>\n          Enter your guest details to automate their pre-episode promotion on social media\n        </Typography>\n\n        <FormProvider methods={methods} onSubmit={handleSubmit(onSubmit)}>\n          <Stack spacing={2} marginTop={2} marginBottom={2}>\n            {!!errors.afterSubmit && <Alert severity=\"error\">{errors.afterSubmit.message}</Alert>}\n\n            <Stack\n              sx={{\n                gap: 2,\n                mb: 2,\n                alignContent: 'center',\n                justifyContent: 'space-between',\n                flexDirection,\n              }}\n            >\n              <RHFTextField name=\"firstName\" label=\"Guest First Name\" />\n              <RHFTextField name=\"lastName\" label=\"Guest Last Name\" />\n              <RHFTextField name=\"email\" label=\"Guest Email\" />\n            </Stack>\n\n            <Stack\n              sx={{\n                gap: 2,\n                mb: 2,\n                alignContent: 'center',\n                justifyContent: 'space-between',\n                flexDirection,\n              }}\n            >\n              <RHFDateField name=\"recordingDate\" label=\"Recording Date\" />\n              <RHFTextField name=\"jobTitle\" label=\"Guest Job Title and Business\" />\n\n              <Stack width=\"100%\" position=\"relative\">\n                <RHFTextField\n                  name=\"dummyTopic\"\n                  disabled={topics.length === 5}\n                  label=\"Potential Topic (Optional)\"\n                  placeholder=\"Add your topic here...\"\n                  InputProps={{\n                    endAdornment: (\n                      <InputAdornment position=\"end\">\n                        <Button\n                          edge=\"end\"\n                          aria-label=\"Add Topic\"\n                          disabled={topics.length === 5}\n                          onClick={() => {\n                            setTopics((t) => [...t, watch('dummyTopic')]);\n                            setValue('dummyTopic', '');\n                          }}\n                        >\n                          Add Topic\n                        </Button>\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n\n                <Stack gap={1} top={95} flexWrap=\"wrap\" position=\"absolute\" flexDirection=\"row\">\n                  {topics.map((topic, key) => (\n                    <Chip\n                      key={key}\n                      label={topic}\n                      variant=\"outlined\"\n                      sx={{ justifyContent: 'left', width: 'fit-content' }}\n                      onDelete={() => setTopics((t) => t.filter((_, i) => i !== key))}\n                    />\n                  ))}\n                </Stack>\n              </Stack>\n            </Stack>\n          </Stack>\n\n          <Stack sx={{ gap: 2, flexDirection }}>\n            <Typography sx={{ display: 'flex', alignItems: 'center' }}>\n              Start Host Automation Now\n            </Typography>\n            <FormControlLabel\n              name=\"startHostAutomation\"\n              label=\"Start when guest starts\"\n              control={<Switch size=\"medium\" />}\n            />\n          </Stack>\n\n          <Stack gap={2} flexDirection=\"row\" marginTop={4}>\n            <LoadingButton\n              size=\"large\"\n              type=\"submit\"\n              shape=\"circular\"\n              variant=\"outlined\"\n              loading={isSubmitting}\n            >\n              Add Guest\n            </LoadingButton>\n\n            <Button\n              disabled\n              size=\"large\"\n              type=\"button\"\n              color=\"primary\"\n              shape=\"circular\"\n              variant=\"contained\"\n              endIcon={\n                <Tooltip\n                  arrow\n                  placement=\"top\"\n                  title=\"Upload a spreadsheet of guests. Each column should match above fields labels EXACTLY (case sensitive so copy/paste).\"\n                >\n                  <Iconify icon=\"mdi:question-mark-circle-outline\" />\n                </Tooltip>\n              }\n            >\n              UPLOAD CSV\n            </Button>\n\n            <Button\n              disabled\n              color=\"info\"\n              size=\"large\"\n              type=\"button\"\n              shape=\"circular\"\n              variant=\"contained\"\n            >\n              AUTOMATE GUEST\n            </Button>\n          </Stack>\n        </FormProvider>\n      </Container>\n    </>\n  );\n}\n"],"names":["addUpdateGuest","info","guestId","axios","data","getGuestsList","showId","AccountAdmin","enqueueSnackbar","useSnackbar","themeStretch","useSettingsContext","flexDirection","useResponsive","AccountSchema","Yup","shape","firstName","required","jobTitle","recordingDate","email","defaultValues","lastName","startHostAutomation","dummyTopic","useState","topics","setTopics","methods","useForm","resolver","yupResolver","reset","watch","setError","setValue","handleSubmit","formState","errors","isSubmitting","onSubmit","potentialTopics","variant","anchorOrigin","vertical","horizontal","console","error","message","title","maxWidth","component","spacing","marginTop","marginBottom","afterSubmit","severity","sx","gap","mb","alignContent","justifyContent","name","label","width","position","disabled","length","placeholder","InputProps","endAdornment","edge","onClick","t","top","flexWrap","map","topic","key","onDelete","filter","_","i","display","alignItems","control","size","type","loading","color","endIcon","arrow","placement","icon"],"sourceRoot":""}