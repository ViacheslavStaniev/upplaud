"use strict";(self.webpackChunkpodasq=self.webpackChunkpodasq||[]).push([[197],{99197:function(e,r,n){n.r(r),n.d(r,{default:function(){return v}});var a=n(53305),i=n(57689),t=n(91614),s=n(38072),o=n(1444),l=n(78230),u=n(17547),d=n(84058),c=n(83769),m=n(80184);function v(){var e=(0,l.K$)().themeStretch,r=(0,i.UO)().name,n=o.Xz.find((function(e){return(0,a.o)(e.name)===r}));return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(c.Z,{title:"User: Edit user"}),(0,m.jsxs)(t.Z,{maxWidth:!e&&"lg",children:[(0,m.jsx)(u.Z,{heading:"Edit user",links:[{name:"Dashboard",href:s.vB.root},{name:"User",href:s.vB.user.list},{name:null===n||void 0===n?void 0:n.name}]}),(0,m.jsx)(d.Z,{isEdit:!0,currentUser:n})]})]})}},84058:function(e,r,n){n.d(r,{Z:function(){return U}});var a=n(1413),i=n(74165),t=n(15861),s=n(81724),o=n(72791),l=n(57689),u=n(61134),d=n(44695),c=n(39709),m=n(61889),v=n(57621),x=n(64554),p=n(20890),h=n(85523),f=n(9955),b=n(53767),Z=n(7870),j=n(38072),y=n(3234),C=n(1695),g=n(31364),q=n(66658),w=n(80184);function U(e){var r=e.isEdit,n=void 0!==r&&r,U=e.currentUser,k=(0,l.s0)(),S=(0,g.Ds)().enqueueSnackbar,_=s.Ry().shape({name:s.Z_().required("Name is required"),email:s.Z_().required("Email is required").email("Email must be a valid email address"),phoneNumber:s.Z_().required("Phone number is required"),address:s.Z_().required("Address is required"),country:s.Z_().required("Country is required"),company:s.Z_().required("Company is required"),state:s.Z_().required("State is required"),city:s.Z_().required("City is required"),role:s.Z_().required("Role is required"),avatarUrl:s.Z_().required("Avatar is required").nullable(!0)}),N=(0,o.useMemo)((function(){return{name:(null===U||void 0===U?void 0:U.name)||"",email:(null===U||void 0===U?void 0:U.email)||"",phoneNumber:(null===U||void 0===U?void 0:U.phoneNumber)||"",address:(null===U||void 0===U?void 0:U.address)||"",country:(null===U||void 0===U?void 0:U.country)||"",state:(null===U||void 0===U?void 0:U.state)||"",city:(null===U||void 0===U?void 0:U.city)||"",zipCode:(null===U||void 0===U?void 0:U.zipCode)||"",avatarUrl:(null===U||void 0===U?void 0:U.avatarUrl)||null,isVerified:(null===U||void 0===U?void 0:U.isVerified)||!0,status:null===U||void 0===U?void 0:U.status,company:(null===U||void 0===U?void 0:U.company)||"",role:(null===U||void 0===U?void 0:U.role)||""}}),[U]),P=(0,u.cI)({resolver:(0,d.X)(_),defaultValues:N}),A=P.reset,E=P.watch,R=P.control,V=P.setValue,z=P.handleSubmit,B=P.formState.isSubmitting,D=E();(0,o.useEffect)((function(){n&&U&&A(N),n||A(N)}),[n,U]);var M=function(){var e=(0,t.Z)((0,i.Z)().mark((function e(r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise((function(e){return setTimeout(e,500)}));case 3:A(),S(n?"Update success!":"Create success!"),k(j.vB.user.list),console.log("DATA",r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(r){return e.apply(this,arguments)}}(),T=(0,o.useCallback)((function(e){var r=e[0],n=Object.assign(r,{preview:URL.createObjectURL(r)});r&&V("avatarUrl",n,{shouldValidate:!0})}),[V]);return(0,w.jsx)(q.ZP,{methods:P,onSubmit:z(M),children:(0,w.jsxs)(m.ZP,{container:!0,spacing:3,children:[(0,w.jsx)(m.ZP,{item:!0,xs:12,md:4,children:(0,w.jsxs)(v.Z,{sx:{pt:10,pb:5,px:3},children:[n&&(0,w.jsx)(C.Z,{color:"active"===D.status?"success":"error",sx:{textTransform:"uppercase",position:"absolute",top:24,right:24},children:D.status}),(0,w.jsx)(x.Z,{sx:{mb:5},children:(0,w.jsx)(q.sX,{name:"avatarUrl",maxSize:3145728,onDrop:T,helperText:(0,w.jsxs)(p.Z,{variant:"caption",sx:{mt:2,mx:"auto",display:"block",textAlign:"center",color:"text.secondary"},children:["Allowed *.jpeg, *.jpg, *.png, *.gif",(0,w.jsx)("br",{})," max size of ",(0,Z.oe)(3145728)]})})}),n&&(0,w.jsx)(h.Z,{labelPlacement:"start",control:(0,w.jsx)(u.Qr,{name:"status",control:R,render:function(e){var r=e.field;return(0,w.jsx)(f.Z,(0,a.Z)((0,a.Z)({},r),{},{checked:"active"!==r.value,onChange:function(e){return r.onChange(e.target.checked?"banned":"active")}}))}}),label:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(p.Z,{variant:"subtitle2",sx:{mb:.5},children:"Banned"}),(0,w.jsx)(p.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Apply disable account"})]}),sx:{mx:0,mb:3,width:1,justifyContent:"space-between"}}),(0,w.jsx)(q._e,{name:"isVerified",labelPlacement:"start",label:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(p.Z,{variant:"subtitle2",sx:{mb:.5},children:"Email Verified"}),(0,w.jsx)(p.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Disabling this will automatically send the user a verification email"})]}),sx:{mx:0,width:1,justifyContent:"space-between"}})]})}),(0,w.jsx)(m.ZP,{item:!0,xs:12,md:8,children:(0,w.jsxs)(v.Z,{sx:{p:3},children:[(0,w.jsxs)(x.Z,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[(0,w.jsx)(q.au,{name:"name",label:"Full Name"}),(0,w.jsx)(q.au,{name:"email",label:"Email Address"}),(0,w.jsx)(q.au,{name:"phoneNumber",label:"Phone Number"}),(0,w.jsxs)(q.Cc,{native:!0,name:"country",label:"Country",placeholder:"Country",children:[(0,w.jsx)("option",{value:""}),y.h.map((function(e){return(0,w.jsx)("option",{value:e.label,children:e.label},e.code)}))]}),(0,w.jsx)(q.au,{name:"state",label:"State/Region"}),(0,w.jsx)(q.au,{name:"city",label:"City"}),(0,w.jsx)(q.au,{name:"address",label:"Address"}),(0,w.jsx)(q.au,{name:"zipCode",label:"Zip/Code"}),(0,w.jsx)(q.au,{name:"company",label:"Company"}),(0,w.jsx)(q.au,{name:"role",label:"Role"})]}),(0,w.jsx)(b.Z,{alignItems:"flex-end",sx:{mt:3},children:(0,w.jsx)(c.Z,{type:"submit",variant:"contained",loading:B,children:n?"Save Changes":"Create User"})})]})})]})})}},57621:function(e,r,n){n.d(r,{Z:function(){return f}});var a=n(87462),i=n(63366),t=n(72791),s=n(28182),o=n(94419),l=n(66934),u=n(31402),d=n(35527),c=n(75878),m=n(21217);function v(e){return(0,m.Z)("MuiCard",e)}(0,c.Z)("MuiCard",["root"]);var x=n(80184),p=["className","raised"],h=(0,l.ZP)(d.Z,{name:"MuiCard",slot:"Root",overridesResolver:function(e,r){return r.root}})((function(){return{overflow:"hidden"}})),f=t.forwardRef((function(e,r){var n=(0,u.Z)({props:e,name:"MuiCard"}),t=n.className,l=n.raised,d=void 0!==l&&l,c=(0,i.Z)(n,p),m=(0,a.Z)({},n,{raised:d}),f=function(e){var r=e.classes;return(0,o.Z)({root:["root"]},v,r)}(m);return(0,x.jsx)(h,(0,a.Z)({className:(0,s.Z)(f.root,t),elevation:d?8:void 0,ref:r,ownerState:m},c))}))},53305:function(e,r,n){n.d(r,{o:function(){return t}});var a=n(3431),i=n(17254);function t(e,r){return void 0===r&&(r={}),function(e,r){return void 0===r&&(r={}),(0,i.B)(e,(0,a.pi)({delimiter:"."},r))}(e,(0,a.pi)({delimiter:"-"},r))}}}]);
//# sourceMappingURL=197.778a50a3.chunk.js.map