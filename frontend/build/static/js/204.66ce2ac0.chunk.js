"use strict";(self.webpackChunkpdsq_frontend=self.webpackChunkpdsq_frontend||[]).push([[204],{90529:(e,n,l)=>{l.r(n),l.d(n,{default:()=>g});var o=l(83769),t=l(34105),c=l(60245),s=l(66862),a=l(78302),i=l(93070),r=l(49389),d=l(71046),u=l(2556),m=l(77128),p=l(80184);const{Text:h,Title:f,Paragraph:v}=a.default;function g(){const[e]=i.Z.useForm(),{user:n,update:l,isLoading:a,updateUser:g}=(0,s.E)(),{firstName:x,lastName:j,email:Z,userName:b,profile:y={}}=n,C=i.Z.useWatch(["profile","picture"],e);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.Z,{title:"Account Admin"}),(0,p.jsxs)("div",{className:"account-admin",children:[(0,p.jsx)(f,{className:"m-0 mb-1",children:"Account Admin"}),(0,p.jsx)(f,{level:5,className:"m-0 mb-4 fw-400 color-45485C",children:"Here you can track the automation of your guests:"}),(0,p.jsxs)(i.Z,{form:e,size:"large",className:"w-80",layout:"vertical",onFinish:g,initialValues:{email:Z,lastName:j,firstName:x,profile:{...y}},children:[(0,p.jsxs)("div",{className:"flex-item gap-2",children:[(0,p.jsx)(i.Z.Item,{name:"firstName",label:"FIRST NAME",className:"flex-1",rules:[{required:!0,message:"First Name is required."}],children:(0,p.jsx)(r.Z,{placeholder:"FIRST NAME"})}),(0,p.jsx)(i.Z.Item,{name:"lastName",label:"LAST NAME",className:"flex-1",children:(0,p.jsx)(r.Z,{placeholder:"LAST NAME"})}),(0,p.jsx)(i.Z.Item,{name:"email",label:"EMAIL",className:"flex-1",rules:[{required:!0,message:"Email is required."},{type:"email",message:"Please enter a valid email."}],children:(0,p.jsx)(r.Z,{placeholder:"EMAIL"})})]}),(0,p.jsxs)("div",{className:"flex-item align-baseline gap-2",children:[(0,p.jsx)(i.Z.Item,{name:["profile","phone"],label:"CELL PHONE",className:"flex-1",children:(0,p.jsx)(r.Z,{placeholder:"CELL PHONE"})}),(0,p.jsx)(i.Z.Item,{name:["profile","about"],label:"BIO OR SOCIAL URL",className:"flex-1",children:(0,p.jsx)(r.Z,{placeholder:"BIO OR SOCIAL URL"})}),(0,p.jsx)(i.Z.Item,{name:["profile","picture"],label:"HEADSHOT IMAGE",className:"flex-1",children:(0,p.jsx)(t.Z,{picture:C,onChange:n=>e.setFieldValue("picture",n)})})]}),(0,p.jsxs)(d.Z,{size:24,children:[(0,p.jsx)(u.ZP,{shape:"round",htmlType:"submit",loading:a,className:"minw-110px primary-outlined",children:"SAVE"}),b&&(0,p.jsxs)(v,{className:"m-0",children:["YOUR ",window.location.hostname.toUpperCase()," SHOW URL is"," ",(0,p.jsx)(h,{strong:!0,copyable:!0,className:"text-underline",children:"".concat(window.location.origin,"/show/").concat(b)})]})]})]}),(0,p.jsx)(m.Z,{}),(0,p.jsx)(c.Z,{user:n,update:l})]})]})}},60245:(e,n,l)=>{l.d(n,{Z:()=>E});var o=l(66664),t=l(76171),c=l(72791),s=l(33805),a=l(908),i=l(37557),r=l(82621),d=l(87462);const u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}}]},name:"stop",theme:"outlined"};var m=l(8711),p=function(e,n){return c.createElement(m.Z,(0,d.Z)({},e,{ref:n,icon:u}))};const h=c.forwardRef(p);const f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"};var v=function(e,n){return c.createElement(m.Z,(0,d.Z)({},e,{ref:n,icon:f}))};const g=c.forwardRef(v);var x=l(78302),j=l(64162),Z=l(2556),b=l(71046),y=l(41583),C=l(51678),N=l(80184);const{Title:k,Text:w}=x.default,{FACEBOOK:A,LINKEDIN:P}=a.SOCIAL_TYPE;function E(e){let{user:n,className:l="",showTitle:d=!0,update:u=(()=>{}),btnSize:m="large"}=e;const p=(null===n||void 0===n?void 0:n.socialAccounts)||[],f=e=>p.find((n=>n.type===e)),[v,x]=(0,c.useState)(!1),[E,O]=(0,c.useState)([]),[S,I]=(0,c.useState)(null);(0,c.useEffect)((()=>{var e,n,l;const o=f(A);var t;o&&null!==o&&void 0!==o&&o.isConnected&&(null!==o&&void 0!==o&&null!==(e=o.page)&&void 0!==e&&e.askToChoose||null!==(n=o.group)&&void 0!==n&&n.askToChoose)&&(I("facebook"),O([null!==o&&void 0!==o&&null!==(t=o.page)&&void 0!==t&&t.askToChoose?"page":"group"]));const c=f(P);c&&null!==c&&void 0!==c&&c.isConnected&&null!==c&&void 0!==c&&null!==(l=c.page)&&void 0!==l&&l.askToChoose&&(O(["page"]),I("linkedin"))}),[]);const T=new URLSearchParams(window.location.search).get("isConnected")||"0";(0,c.useEffect)((()=>{"1"===T&&j.ZP.success({message:"Success",description:"You have successfully connected your social media account."})}),[T]);const L=e=>{var n;return(null===(n=f(e))||void 0===n?void 0:n.isConnected)||!1},z=function(e){let l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"".concat(s.Af,"/auth/connect/").concat(e,"/").concat(null===n||void 0===n?void 0:n.userName,"/").concat(l?"disconnect":"","?returnUrl=").concat(window.location.href)},R=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:14;return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?(0,N.jsx)(i.Z,{className:"color-0AB6B6",style:{fontSize:e||14}}):(0,N.jsx)(r.Z,{className:"color-red",style:{fontSize:e||14}})},F=function(){var e,l;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;const c=f(t)||{},s=a.W[t],r=t===A?"facebook":"linkedin",{isConnected:d=!1,page:m={},group:p={}}=c,v=e=>{var n;let{subTitle:l,item:o}=e;const{socialId:t="",accounts:c=[],askToChoose:a=!1}=o||{},i=!1===a&&t?"(".concat(null===(n=c.find((e=>{let{id:n}=e;return n===t})))||void 0===n?void 0:n.name,")"):"",r=0===(null===c||void 0===c?void 0:c.length)&&o;return(0,N.jsxs)(w,{className:"capitalize",children:[s," ",l," ",i," ",r&&o&&"(No accounts found)"]})},b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const s=null===e||void 0===e?void 0:e.map((e=>{let{id:s,name:a}=e;return{key:s,label:a,icon:c===s?(0,N.jsx)(i.Z,{}):null,onClick:()=>(async(e,l,t,c)=>{x(!0);try{await o.Z.get("users/".concat(null===n||void 0===n?void 0:n._id,"/connect/").concat(e,"/").concat(l,"/").concat(t));const s={...n,socialAccounts:((null===n||void 0===n?void 0:n.socialAccounts)||[]).map((n=>n.type!==e?n:{...n,[l]:{...n[l],socialId:t,askToChoose:!1}}))};u({user:s}),j.ZP.success({message:"Success",description:"".concat(l,' "').concat(c,'" connected successfully.')})}catch(s){console.log(s),j.ZP.error({message:"Error",description:null===s||void 0===s?void 0:s.msg})}finally{x(!1)}})(t,l,s,a),className:c===s?"pointer-none color-white color-0AB6B6 bg-F4F6F8":""}}));return[{key:"header",type:"group",label:"Select ".concat(l," for automation")},...s]},{accounts:y=[],socialId:C=""}=m,{accounts:k=[],socialId:P=""}=p,E=(null===y||void 0===y?void 0:y.length)>1?b(y,"page",C):null,O=(null===k||void 0===k?void 0:k.length)>1?b(k,"group",P):null,S=[{key:"profile",className:"pointer-none",icon:R(d),label:(0,N.jsx)(v,{subTitle:"Profile"})},{key:"page",children:E,disabled:0===(null===m||void 0===m||null===(e=m.accounts)||void 0===e?void 0:e.length),className:E?"":"pointer-none",label:(0,N.jsx)(v,{subTitle:"Page",item:m}),icon:R(d&&C&&!1===(null===m||void 0===m?void 0:m.askToChoose))},{key:"group",children:O,disabled:0===(null===p||void 0===p||null===(l=p.accounts)||void 0===l?void 0:l.length),className:O?"":"pointer-none",label:(0,N.jsx)(v,{subTitle:"Group",item:p}),icon:R(d&&P&&!1===(null===p||void 0===p?void 0:p.askToChoose))}];return[{type:"group",key:"account",label:"Connected Accounts",children:t===A?S:S.filter((e=>"group"!==e.key))},{key:"divider",type:"divider"},{key:"reconect-disconnnect",label:(0,N.jsxs)("div",{className:"flex-item",children:[(0,N.jsx)(Z.ZP,{block:!0,danger:!0,icon:(0,N.jsx)(h,{}),onClick:()=>(async e=>{x(!0);try{await o.Z.get("users/".concat(null===n||void 0===n?void 0:n._id,"/disconnect/").concat(e));const l={...n,socialAccounts:((null===n||void 0===n?void 0:n.socialAccounts)||[]).map((n=>n.type!==e?n:{...n,isConnected:!1}))};u({user:l}),j.ZP.success({message:"Success",description:"Account disconnected successfully."})}catch(l){console.log(l),j.ZP.error({message:"Error",description:null===l||void 0===l?void 0:l.msg})}finally{I(null),x(!1)}})(t),children:"Disconnect"}),(0,N.jsx)(Z.ZP,{block:!0,type:r,icon:(0,N.jsx)(g,{}),href:z(r),children:"Reconnect"})]})}]},U=[{key:"facebook",disabled:!1,title:"Facebook",items:F(A),isConnected:L(A)},{key:"linkedin",disabled:!1,title:"LinkedIn",items:F(P),isConnected:L(P)}];return(0,N.jsxs)("div",{className:"social-media ".concat(l),children:[d&&(0,N.jsx)(k,{level:3,children:"Connect with social media"}),(0,N.jsx)(b.Z,{size:16,children:U.map((e=>{let{key:n,title:l,items:o,disabled:c,isConnected:s}=e;return(0,N.jsx)(y.Z,{arrow:!0,placement:"top",disabled:!s,open:S===n,menu:{items:o,defaultOpenKeys:E},onOpenChange:e=>{!e&&E.length?(O([]),setTimeout((()=>I(e?n:null)),120)):I(e?n:null)},children:(0,N.jsx)(C.Z,{count:R(s,"large"===m?32:26),children:(0,N.jsxs)(Z.ZP,{type:n,size:m,shape:"round",loading:v,disabled:c,href:z(n),icon:(0,N.jsx)(t.Z,{name:n}),className:s?"pointer-none":"",children:[s?"Connected":"Connect"," with ",l]})})},n)}))})]})}},34105:(e,n,l)=>{l.d(n,{Z:()=>f});var o=l(49367),t=l(2556),c=l(58533),s=l(72791),a=l(57960),i=l(76452),r=l(20043),d=l(12584),u=l(80184);function m(e){let{onComplete:n,children:l,cropShape:o="round",aspect:t=1}=e;const[m,p]=(0,s.useState)(!1),h=e=>!!["image/png","image/jpg","image/jpeg"].includes(e.type.toLowerCase())||(a.ZP.error("You can only upload JPG/PNG file!"),!1),f={name:"file",beforeUpload:h,multiple:!1,showUploadList:!1,accept:".png, .jpeg, .jpg",customRequest:e=>{let{file:l}=e;const o=new FileReader;o.onloadend=async()=>{try{p(!0);const e=await(0,d.Vg)({imageData:o.result});p(!1),n(null===e||void 0===e?void 0:e.s3Path)}catch(e){console.log(e),p(!1)}},o.readAsDataURL(l)}};return(0,u.jsx)(c.Z,{showReset:!0,rotationSlider:!0,aspect:t,modalOk:"Upload",cropShape:o,fillColor:"transparent",beforeCrop:h,children:(0,u.jsx)(i.default,{...f,children:(0,u.jsx)(r.Z,{spinning:m,children:l})})})}var p=l(72351),h=l(33805);function f(e){let{picture:n="",onChange:l}=e;const c=n?n.startsWith("http")?n:(0,h.fE)(n):null;return(0,u.jsxs)("div",{className:"flex-item",children:[c&&(0,u.jsx)(o.C,{size:"large",src:c}),(0,u.jsx)(m,{onComplete:l,children:(0,u.jsxs)(t.ZP,{icon:(0,u.jsx)(p.Z,{}),children:["Click to ",c?"Change":"Upload"]})})]})}},82622:(e,n,l)=>{l.d(n,{Z:()=>i});var o=l(87462),t=l(72791);const c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};var s=l(8711),a=function(e,n){return t.createElement(s.Z,(0,o.Z)({},e,{ref:n,icon:c}))};const i=t.forwardRef(a)},40959:(e,n,l)=>{l.d(n,{Z:()=>b});var o=l(8887),t=l(96854),c=l(22173),s=l(72791),a=l(41418),i=l.n(a),r=l(81373),d=l(77268),u=l(71929),m=l(32456),p=l(81458),h=l(73931),f=l(67838),v=function(e,n){var l={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(l[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var t=0;for(o=Object.getOwnPropertySymbols(e);t<o.length;t++)n.indexOf(o[t])<0&&Object.prototype.propertyIsEnumerable.call(e,o[t])&&(l[o[t]]=e[o[t]])}return l};const g=(0,d.i)((e=>{const{prefixCls:n,className:l,closeIcon:o,closable:t,type:c,title:a,children:d,footer:g}=e,x=v(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:j}=s.useContext(u.E_),Z=j(),b=n||j("modal"),y=(0,f.Z)(Z),[C,N,k]=(0,h.ZP)(b,y),w="".concat(b,"-confirm");let A={};return A=c?{closable:null!==t&&void 0!==t&&t,title:"",footer:"",children:s.createElement(m.O,Object.assign({},e,{prefixCls:b,confirmPrefixCls:w,rootPrefixCls:Z,content:d}))}:{closable:null===t||void 0===t||t,title:a,footer:null!==g&&s.createElement(p.$,Object.assign({},e)),children:d},C(s.createElement(r.s,Object.assign({prefixCls:b,className:i()(N,"".concat(b,"-pure-panel"),c&&w,c&&"".concat(w,"-").concat(c),l,k,y)},x,{closeIcon:(0,p.b)(b,o),closable:t},A)))}));var x=l(47562);function j(e){return(0,o.ZP)((0,o.uW)(e))}const Z=c.Z;Z.useModal=x.Z,Z.info=function(e){return(0,o.ZP)((0,o.cw)(e))},Z.success=function(e){return(0,o.ZP)((0,o.vq)(e))},Z.error=function(e){return(0,o.ZP)((0,o.AQ)(e))},Z.warning=j,Z.warn=j,Z.confirm=function(e){return(0,o.ZP)((0,o.Au)(e))},Z.destroyAll=function(){for(;t.Z.length;){const e=t.Z.pop();e&&e()}},Z.config=o.ai,Z._InternalPanelDoNotUseOrYouWillBeFired=g;const b=Z}}]);
//# sourceMappingURL=204.66ce2ac0.chunk.js.map