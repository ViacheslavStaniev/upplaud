"use strict";(self.webpackChunkpdsq_frontend=self.webpackChunkpdsq_frontend||[]).push([[656],{95656:function(e,n,l){l.r(n),l.d(n,{default:function(){return A}});var s=l(44925),o=l(1413),i=l(29439),r=l(94545),t=l(83769),a=l(76171),c=l(64554),u=l(72791);var d=l.p+"static/media/watermark.b7a2a699c2ad36dae68385b12aab8aee.svg",h=l(80184);function m(e){var n=e.children;return(0,h.jsx)(c.Z,{height:200,width:100,image:d,zIndex:0,className:"watermark",children:n})}var p=l(60173),x=l(908),f=l(33805),v=l(99372),j=l(57689),g=l(48080),Z=l(78302),N=l(36473),b=l(2556),y=l(14520),k=l(93070),w=l(49389),S=l(20043),E=l(48531),I=l(49367),F=l(40959),R=["src","height"],q=Z.Z.Text,Y=Z.Z.Link,C=Z.Z.Title,T=Z.Z.Paragraph,P=[{key:"first",answers:"",question:"So, what\u2019s your interest in this topic?",options:["For me","For someone else","No, just voted to help"]},{key:"second",answers:{},question:"Oh? Know someone else that should hear our topic?",options:[""]},{key:"third",answers:"",question:"BTW: If we put together a guide or a checklist based on the topic:",options:["Yes","Maybe","No"]},{key:"fourth",answers:"",question:"Would you be willing to post our topic poll on your Facebook or LinkedIn?",options:[]}],O={poll:"",isSuggestion:!1,questionnaireAnswers:[],selectedTopic:{topic:"",index:0},suggestions:{topic:"",speaker:""},voter:{name:"",email:"",cell_phone:""}};function A(){var e=(0,j.UO)().guestId,n=(0,u.useState)({currentQuestion:1,showEndScreen:!1,openSuccessModal:!1,startQuestionnaire:!1,openSuggestionForm:!1,finalResult:O,poll:{guest:null,error:null,isLoading:!1}}),l=(0,i.Z)(n,2),s=l[0],c=l[1],d=(0,u.useState)({answer:"",userInfo:{name:"",email:"",cell_phone:""}}),Z=(0,i.Z)(d,2),E=Z[0],I=Z[1],F=function(e){return c((function(n){return(0,o.Z)((0,o.Z)({},n),e)}))},R=s.poll,A=s.finalResult,L=s.showEndScreen,U=s.currentQuestion,W=s.openSuccessModal,D=s.openSuggestionForm,Q=s.startQuestionnaire,K=(null===A||void 0===A?void 0:A.questionnaireAnswers)||[],V=K[U-1],G=R.guest,H=R.error,J=R.isLoading;if((0,u.useEffect)((function(){var n=function(e){return c((function(n){return(0,o.Z)((0,o.Z)({},n),{},{poll:(0,o.Z)((0,o.Z)({},n.poll),e)})}))};n({isLoading:!0}),(0,g.Kd)(e).then((function(e){return n({guest:e,isLoading:!1})})).catch((function(e){return n({error:e,isLoading:!1})}))}),[e]),H||G&&(null===G||void 0===G?void 0:G.status)===x.K4.DRAFT)return(0,h.jsx)(j.Fg,{to:"/404"});var X,$,ee,ne,le,se,oe,ie,re,te,ae,ce,ue,de,he,me,pe,xe,fe=(0,f.fE)(null===G||void 0===G?void 0:G.pollImageSrc)||"",ve=(null===G||void 0===G?void 0:G.potentialTopics)||[],je=(0,i.Z)(ve,2),ge=je[0],Ze=void 0===ge?"":ge,Ne=je[1],be=void 0===Ne?"":Ne,ye=function(n){(0,g.sU)(e,n).then((function(e){return F({finalResult:null!==e&&void 0!==e&&e._id?e:n})})).catch(console.log)},ke=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s={openSuccessModal:""!==l,openSuggestionForm:""===l,finalResult:(0,o.Z)((0,o.Z)({},A),{},{poll:e,isSuggestion:""===l,selectedTopic:{topic:l,index:n}})};F(s),ye(s.finalResult)},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",l=3===e,s=A.questionnaireAnswers,i=void 0===s?[]:s;i[e]?i[e]=(0,o.Z)((0,o.Z)({},i[e]),{},{answers:n}):i.push((0,o.Z)((0,o.Z)({},P[e]),{},{answers:n}));var r={showEndScreen:l,finalResult:(0,o.Z)((0,o.Z)({},A),{},{questionnaireAnswers:i}),currentQuestion:l?U:U+1};F(r),ye(r.finalResult)};return L?(0,h.jsxs)("div",{className:"text-center",children:[(0,h.jsx)(B,{src:fe,height:160}),(0,h.jsxs)(N.Z,{className:"bg-EEF4FB mt-4 mb-4",bodyStyle:{padding:14},children:[(0,h.jsx)(C,{level:3,className:"m-",children:"Thank you for your help!"}),(0,h.jsxs)("div",{className:"reward-links",children:[(0,h.jsx)(C,{level:5,className:"mt-2",children:"SEE YOUR REWARDS FROM:"}),(0,h.jsx)(b.ZP,{type:"info",size:"large",shape:"round",target:"_blank",className:"fw-400",href:null===G||void 0===G?void 0:G.guestOfferUrl,children:"".concat(null===G||void 0===G||null===(X=G.guest)||void 0===X?void 0:X.firstName," ").concat(null===G||void 0===G||null===($=G.guest)||void 0===$?void 0:$.lastName)}),(0,h.jsx)(C,{level:5,className:"mt-2",children:"SEE YOUR REWARDS FROM:"}),(0,h.jsx)(b.ZP,{size:"large",shape:"round",type:"primary",target:"_blank",className:"fw-400",href:null===G||void 0===G?void 0:G.hostOfferUrl,children:"".concat(null===G||void 0===G||null===(ee=G.user)||void 0===ee?void 0:ee.firstName," ").concat(null===G||void 0===G||null===(ne=G.user)||void 0===ne?void 0:ne.lastName)})]})]}),(0,h.jsx)(T,{type:"secondary",className:"mb-4",children:"To get more from what we present, click to vote in our other Upplaud polls."}),(0,h.jsx)(r.Z,{})]}):Q?(0,h.jsxs)("div",{className:"questionnaire p-2",children:[(0,h.jsxs)("div",{className:"flex-item gap-2 mb-2",children:[(0,h.jsx)(q,{className:"color-0AB6B6",children:"01"}),(0,h.jsx)("div",{className:"flex-1 flex-item gap-2",children:Array.from({length:4}).map((function(e,n){return(0,h.jsx)("div",{onClick:function(){return F({currentQuestion:n+1})},style:{flex:1,height:8,cursor:"pointer",backgroundColor:U-1>=n?"#0AB6B6":"#eeeeee",pointerEvents:K[n]?"auto":"none"}},n)}))}),(0,h.jsx)(q,{className:"color-0AB6B6",children:"04"})]}),1===U&&(0,h.jsxs)("div",{className:"first-question",children:[(0,h.jsxs)(T,{type:"secondary",className:"m-0",children:['"',null===A||void 0===A||null===(le=A.selectedTopic)||void 0===le?void 0:le.topic,'"']}),(0,h.jsx)(C,{level:3,className:"m-0",type:"info",children:"So, what\u2019s your interest in this topic?"}),(0,h.jsx)(y.Z,{vertical:!0,gap:20,className:"mt-4",children:["For me","For someone else","No, just voted to help"].map((function(e,n){return(0,h.jsx)(b.ZP,{shape:"round",size:"large",className:"text-left",icon:(0,h.jsx)(a.Z,{name:"circle"}),onClick:function(){return we(0,e)},type:V&&(null===V||void 0===V?void 0:V.answers)===e?"info":"default",children:e},n)}))})]}),2===U&&(0,h.jsxs)("div",{className:"second-question",children:[(0,h.jsxs)(T,{type:"secondary",className:"m-0",children:['"',null===A||void 0===A||null===(se=A.selectedTopic)||void 0===se?void 0:se.topic,'"']}),(0,h.jsx)(C,{level:3,className:"m-0 mb-4",type:"success",children:"Oh? Know someone else that should hear our topic?"}),(0,h.jsxs)(k.Z,{onFinish:function(e){return we(1,e)},initialValues:{name:(null===V||void 0===V||null===(oe=V.answers)||void 0===oe?void 0:oe.name)||"",email:(null===V||void 0===V||null===(ie=V.answers)||void 0===ie?void 0:ie.email)||"",comment:(null===V||void 0===V||null===(re=V.answers)||void 0===re?void 0:re.comment)||"",referral1:(null===V||void 0===V||null===(te=V.answers)||void 0===te?void 0:te.referral1)||"",referral2:(null===V||void 0===V||null===(ae=V.answers)||void 0===ae?void 0:ae.referral2)||""},children:[(0,h.jsx)(k.Z.Item,{label:"Referral Name 1",name:"referral1",rules:[{required:!0}],children:(0,h.jsx)(w.Z,{placeholder:"Referral Name 1"})}),(0,h.jsx)(k.Z.Item,{label:"Referral Name 2",name:"referral2",children:(0,h.jsx)(w.Z,{placeholder:"Referral Name 2"})}),(0,h.jsx)(k.Z.Item,{label:"Your Comment",name:"comment",children:(0,h.jsx)(w.Z,{placeholder:"Your Comment"})}),(0,h.jsx)(k.Z.Item,{label:"Your Name",name:"name",rules:[{required:!0}],children:(0,h.jsx)(w.Z,{placeholder:"Your Name"})}),(0,h.jsx)(k.Z.Item,{label:"Your Email",name:"email",rules:[{required:!0}],children:(0,h.jsx)(w.Z,{placeholder:"Your Email"})}),(0,h.jsx)(b.ZP,{block:p.tq,shape:"round",type:"info",size:"large",htmlType:"submit",children:"SEND ME EMAIL TO FORWARD"})]}),(0,h.jsx)(b.ZP,{block:p.tq,type:"ghost",className:"mt-2",onClick:function(){return we(1,{skipped:!0})},children:"SKIP FOR NOW"})]}),3===U&&(0,h.jsxs)("div",{className:"third-question",children:[(0,h.jsxs)(N.Z,{className:"bg-EEF4FB mb-4",bodyStyle:{padding:14},children:[(0,h.jsx)(C,{level:3,className:"m-0 mb-2",children:"BTW: If we put together a guide or a checklist based on the topic:"}),(0,h.jsxs)(T,{type:"secondary",className:"m-0",children:['"',null===A||void 0===A||null===(ce=A.selectedTopic)||void 0===ce?void 0:ce.topic,'"']}),(0,h.jsx)(C,{level:4,className:"m-0 mt-2",type:"info",children:"Would you want a copy?"}),(0,h.jsx)(T,{type:"secondary",className:"m-0",children:"No cost, just thanks for voting."}),(0,h.jsx)("div",{className:"flex-item gap-2 mt-2",children:["Yes","Maybe","No"].map((function(e,n){return(0,h.jsx)(b.ZP,{size:"large",shape:"round",type:(null===E||void 0===E?void 0:E.answer)===e?"info":"default",onClick:function(){var n=(0,o.Z)((0,o.Z)({},E),{},{answer:e});I(n),"No"===e&&we(2,n)},children:e},n)}))})]}),(0,h.jsxs)(k.Z,{initialValues:{name:(null===V||void 0===V||null===(ue=V.answers)||void 0===ue||null===(de=ue.userInfo)||void 0===de?void 0:de.name)||"",email:(null===V||void 0===V||null===(he=V.answers)||void 0===he||null===(me=he.userInfo)||void 0===me?void 0:me.email)||"",cell_phone:(null===V||void 0===V||null===(pe=V.answers)||void 0===pe||null===(xe=pe.userInfo)||void 0===xe?void 0:xe.cell_phone)||""},onFinish:function(e){var n=e.userInfo;return we(2,(0,o.Z)((0,o.Z)({},E),{},{userInfo:n}))},children:[(0,h.jsx)(k.Z.Item,{label:"Your Name",name:["userInfo","name"],rules:[{required:"No"!==(null===E||void 0===E?void 0:E.answer)}],children:(0,h.jsx)(w.Z,{placeholder:"Your Name"})}),(0,h.jsx)(k.Z.Item,{label:"Your Email",name:["userInfo","email"],rules:[{required:"No"!==(null===E||void 0===E?void 0:E.answer)}],children:(0,h.jsx)(w.Z,{placeholder:"Your Email"})}),(0,h.jsx)(k.Z.Item,{label:"Your Cell Phone",name:["userInfo","cell_phone"],rules:[{required:"No"!==(null===E||void 0===E?void 0:E.answer)}],children:(0,h.jsx)(w.Z,{placeholder:"Your Cell Phone"})}),(0,h.jsx)(b.ZP,{block:p.tq,shape:"round",type:"info",size:"large",htmlType:"submit",disabled:""===(null===E||void 0===E?void 0:E.answer),children:"SEND ME A FREE COPY"})]})]}),4===U&&(0,h.jsxs)("div",{className:"fourth-question",children:[(0,h.jsxs)(N.Z,{className:"bg-EEF4FB mb-4",bodyStyle:{padding:14},children:[(0,h.jsx)(C,{level:3,className:"m-0 mb-2",children:"Last question, we promise!"}),(0,h.jsx)(T,{type:"secondary",className:"font-18px",children:"Would you be willing to post our topic poll on your Facebook or LinkedIn?\xa0"}),(0,h.jsx)(T,{type:"secondary",className:"font-18px",children:"You'll be helping us grow our audience. Thanks..."}),(0,h.jsx)(C,{level:4,className:"m-0 mt-2",type:"info",children:"HELP US GET MORE VOTES:"}),(0,h.jsx)(b.ZP,{type:"link",target:"_blank",block:p.tq,className:"text-left font-18px",icon:(0,h.jsx)(a.Z,{name:"facebook"}),href:"https://www.facebook.com/sharer/sharer.php?u=".concat(window.location.href),children:"| Share poll on Facebook"}),(0,h.jsx)(b.ZP,{type:"link",target:"_blank",block:p.tq,className:"text-left font-18px",icon:(0,h.jsx)(a.Z,{name:"linkedin"}),href:"https://www.linkedin.com/sharing/share-offsite/?url=".concat(window.location.href),children:"| Share poll on Linkedin"})]}),(0,h.jsx)(b.ZP,{size:"large",block:p.tq,shape:"round",onClick:function(){return we(3,{doneSharing:!0,skipped:!1})},children:"DONE SHARING? SEE YOUR REWARDS"}),(0,h.jsxs)(T,{type:"secondary",className:"mt-4",children:["If you'd rather not try to generate more interest for us, you can"," ",(0,h.jsx)(Y,{onClick:function(){return we(3,{doneSharing:!1,skipped:!0})},children:"click here"})," ","to skip for now."]})]}),U<3&&(0,h.jsxs)("div",{className:"text-center mt-4",children:[(0,h.jsx)(B,{src:fe,height:160,className:"mb-4"}),(0,h.jsx)(b.ZP,{type:"text",icon:(0,h.jsx)(v.Z,{}),onClick:function(){return F({currentQuestion:1,openSuccessModal:!1,startQuestionnaire:!1,openSuggestionForm:!1})},children:"Change your vote"})]})]}):(0,h.jsx)(S.Z,{spinning:J,children:(0,h.jsx)(m,{children:(0,h.jsxs)(N.Z,{bordered:!1,className:"voting-page text-center",children:[(0,h.jsx)(t.Z,{title:"Vote"}),!D&&(0,h.jsxs)("div",{className:"voting-form",children:[(0,h.jsx)(B,{src:fe}),(0,h.jsx)(C,{level:2,type:"info",className:"mt-2",children:"Which topic is more interesting?"}),(0,h.jsx)(T,{type:"secondary",children:"Tailor what we present: Click on a box to vote."}),(0,h.jsxs)(y.Z,{vertical:p.tq,gap:40,className:"mb-4 text-left",children:[(0,h.jsxs)(N.Z,{hoverable:!0,className:"flex-1 bg-E6F5FB w-100",onClick:function(){return ke(0,Ze)},children:[(0,h.jsx)(q,{strong:!0,className:"font-16px",children:Ze}),(0,h.jsx)(M,{count:1})]}),(0,h.jsxs)(N.Z,{hoverable:!0,className:"flex-1 bg-F3EAF9 w-100",onClick:function(){return ke(1,be)},children:[(0,h.jsx)(q,{strong:!0,className:"font-16px",children:be}),(0,h.jsx)(M,{count:2})]}),(0,h.jsxs)(N.Z,{hoverable:!0,className:"flex-1 bg-EBF9E6 w-100",children:[(0,h.jsx)(T,{className:"m-0 pl-2 font-16px",children:"Don\u2019t prefer either?"}),(0,h.jsx)(b.ZP,{type:"link",size:"large",onClick:function(){return ke(2,"")},children:"Submit your own topic."}),(0,h.jsx)(M,{count:3})]})]}),(0,h.jsx)(z,{open:W,finalResult:A,onClose:function(){return F({openSuccessModal:!1})},onBack:function(){return F({openSuccessModal:!1,openSuggestionForm:!1})},onFinish:function(e){var n={openSuccessModal:!1,startQuestionnaire:!0,finalResult:(0,o.Z)((0,o.Z)({},A),e)};F(n),ye(n.finalResult)}})]}),D&&(0,h.jsx)(_,{finalResult:A,pollImageSrc:fe,onBack:function(){return F({openSuggestionForm:!1})},onFinish:function(e){var n={startQuestionnaire:!0,finalResult:(0,o.Z)((0,o.Z)({},A),e)};F(n),ye(n.finalResult)}})]})})})}function B(e){var n=e.src,l=e.height,i=void 0===l?200:l,r=(0,s.Z)(e,R);return(0,h.jsx)("div",{className:"text-center",children:(0,h.jsx)(E.Z,(0,o.Z)({preview:!1,src:n,height:i},r))})}function M(e){var n=e.count,l=void 0===n?0:n;return(0,h.jsx)(I.C,{size:"large",className:"bg-white filter-shadow-1 border-black-1",style:{position:"absolute",left:"calc(50% - 23px)",bottom:-25},children:(0,h.jsx)(q,{strong:!0,className:"font-16px",children:l})})}function z(e){var n=e.open,l=e.onClose,s=e.onBack,o=e.finalResult,i=e.onFinish;return(0,h.jsxs)(F.Z,{centered:!0,open:n,onCancel:l,footer:null,width:600,children:[(0,h.jsx)(C,{level:4,type:"success",className:"text-center mb-4",children:"Thanks! We\u2019ll let you know which topic wins..."}),(0,h.jsxs)(k.Z,{layout:"vertical",onFinish:i,initialValues:o,children:[(0,h.jsx)(k.Z.Item,{label:"Your Name",name:["voter","name"],children:(0,h.jsx)(w.Z,{placeholder:"Your Name"})}),(0,h.jsx)(k.Z.Item,{label:"Your Email",name:["voter","email"],children:(0,h.jsx)(w.Z,{placeholder:"Your Email"})}),(0,h.jsx)(k.Z.Item,{label:"Your Cell Phone",name:["voter","cell_phone"],children:(0,h.jsx)(w.Z,{placeholder:"Your Cell Phone"})}),(0,h.jsxs)(y.Z,{vertical:p.tq,gap:20,children:[(0,h.jsx)(b.ZP,{block:p.tq,shape:"round",type:"info",size:"large",htmlType:"submit",className:"flex-1",children:"UPDATE ME PLEASE"}),(0,h.jsx)(b.ZP,{size:"large",shape:"round",block:p.tq,htmlType:"submit",className:"flex-1",children:"NO, THANKS"}),(0,h.jsx)(b.ZP,{type:"text",size:"large",shape:"round",className:"flex-1",onClick:s,icon:(0,h.jsx)(v.Z,{}),children:"Change your vote"})]})]})]})}function _(e){var n=e.onBack,l=e.finalResult,s=e.pollImageSrc,o=e.onFinish;return(0,h.jsxs)("div",{className:"suggestion-form text-left",children:[(0,h.jsx)(C,{level:4,className:"text-center",children:"SUGGEST YOUR OWN TOPIC"}),(0,h.jsxs)(k.Z,{layout:"vertical",onFinish:o,initialValues:l,children:[(0,h.jsx)(k.Z.Item,{label:"Your Name",name:["voter","name"],rules:[{required:!0}],children:(0,h.jsx)(w.Z,{placeholder:"Your Name"})}),(0,h.jsx)(k.Z.Item,{label:"Your Email",name:["voter","email"],rules:[{required:!0}],children:(0,h.jsx)(w.Z,{placeholder:"Your Email"})}),(0,h.jsx)(k.Z.Item,{label:"Your Cell Phone",name:["voter","cell_phone"],rules:[{required:!0}],children:(0,h.jsx)(w.Z,{placeholder:"Your Cell Phone"})}),(0,h.jsx)(k.Z.Item,{label:"Your Topic Suggestion",name:["suggestions","topic"],rules:[{required:!0}],children:(0,h.jsx)(w.Z,{placeholder:"Your Topic Suggestion"})}),(0,h.jsx)(k.Z.Item,{label:"Your Speaker Suggestion",name:["suggestions","speaker"],children:(0,h.jsx)(w.Z,{placeholder:"Your Speaker Suggestion"})}),(0,h.jsx)(b.ZP,{block:p.tq,shape:"round",type:"info",size:"large",htmlType:"submit",children:"SUBMIT TOPIC"})]}),(0,h.jsxs)("div",{className:"text-center mt-2",children:[(0,h.jsx)(B,{src:s,height:160,className:"mb-4"}),(0,h.jsx)(b.ZP,{type:"text",onClick:n,icon:(0,h.jsx)(v.Z,{}),children:"Change your vote"})]})]})}}}]);
//# sourceMappingURL=656.3b163fdc.chunk.js.map