"use strict";(self.webpackChunkpdsq_frontend=self.webpackChunkpdsq_frontend||[]).push([[330],{85379:(e,t,l)=>{l.d(t,{Z:()=>s});var o=l(24925),a=l(92143),n=l(79286),i=l(80184);function s(e){let{items:t=[],defaultActive:l="",marginBottom:s=!0}=e;return(0,i.jsx)(o.Z,{items:t,bordered:!1,className:"bg-F7F3F9 ".concat(s?"mb-2":""),defaultActiveKey:l?[l]:[],expandIcon:e=>{let{isActive:t}=e;return t?(0,i.jsx)(a.Z,{}):(0,i.jsx)(n.Z,{})}})}},659:(e,t,l)=>{l.d(t,{Z:()=>s});var o=l(93070),a=l(66770),n=l.n(a),i=l(80184);function s(e){let{name:t,...l}=e;return(0,i.jsx)(o.Z.Item,{name:t,...null===l||void 0===l?void 0:l.formItemParams,children:(0,i.jsx)(n(),{theme:"snow",modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],["link","image"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]]},...l})})}},88330:(e,t,l)=>{l.r(t),l.d(t,{default:()=>he});var o=l(97892),a=l.n(o),n=l(72791),i=l(12584),s=l(59434),r=l(66862),c=l(57689),d=l(908),u=l(18406),m=l(48080),h=l(78302),p=l(93070),g=l(49389),x=l(66106),v=l(30914),f=l(88715),j=l(20512),b=l(21306),S=l(71046),y=l(2556),N=l(74424),k=l(19517),w=l(83769),I=l(659),T=l(34105),Z=l(33805),A=l(97412),E=l(76452),P=l(61431),C=l(54192),F=l(64162),O=l(49367),R=l(40959),L=l(20043),U=l(91082),D=l(1429),q=l(28624),_=l(79286),G=l(66776),M=l(94729),B=l(63531),H=l.n(B),V=l(80184);const{Paragraph:Y}=h.default;function z(){const e=p.Z.useFormInstance(),[t,l]=(0,n.useState)({blob:null,open:!1,audioName:"",timeLeft:120,recorder:null,audioDuration:0,isRecording:!1,recordingStartedAt:null}),o=e=>l((t=>({...t,...e}))),{blob:a,open:r,audioName:c,timeLeft:u,audioDuration:m,recorder:h,isRecording:x,recordingStartedAt:v}=t,j=(0,s.I0)(),{files:b,isLoading:S,isUploading:N}=(0,s.v9)((e=>{let{files:t}=e;return t})),k=b.filter((e=>{let{type:t}=e;return t===d.G.AUDIO})),w=()=>{const e=(new Date).toLocaleString().replaceAll(",","").replaceAll(":","").replaceAll("/","").replaceAll(" ","_");return"Recording_".concat(e,".webm")},I=(0,n.useCallback)((()=>{window.interval&&clearInterval(window.interval),h.stopRecording((()=>{const e=new Blob([h.getBlob()],{type:"audio/webm"});h.stream.stop();const t=Math.floor((Date.now()-v)/1e3);o({audioDuration:t,recorder:null,blob:e,isRecording:!1,audioName:w()})}))}),[h,v]);(0,n.useEffect)((()=>{v&&(window.interval=setInterval((()=>{const e=120-Math.floor((Date.now()-v)/1e3);e<=0?I():o({timeLeft:e})}),1e3))}),[v,I]);return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(p.Z.Item,{name:"audioDuration",hidden:!0}),(0,V.jsxs)("div",{className:"flex-item gap-2 mb-2",children:[(0,V.jsx)(p.Z.Item,{name:"audio",label:"Audio",className:"w-40 m-0",children:(0,V.jsx)(A.default,{loading:S,disabled:S,className:"minw-200px",placeholder:"Select an Audio",options:k.map((e=>{let{_id:t,name:l,duration:o=0}=e;return{label:l,value:t,duration:o}})),onChange:(t,l)=>{let{duration:o}=l;return e.setFieldValue("audioDuration",o)}})}),(0,V.jsx)(y.ZP,{type:"link",icon:(0,V.jsx)(_.Z,{}),onClick:()=>o({open:!0}),children:"ADD/MANAGE AUDIOS"})]}),(0,V.jsxs)(R.Z,{centered:!0,width:600,open:r,footer:!1,maskClosable:!1,title:"Add/Manage Audios",onCancel:()=>o({blob:null,open:!1}),children:[(0,V.jsx)(Y,{strong:!0,className:"m-0",children:"Record New Audio"}),(0,V.jsx)(Y,{type:"secondary",children:"Max 2 minutes. The recording will auto stop after two minutes."}),(0,V.jsxs)(L.Z,{spinning:S,tip:"Uploading...",children:[(0,V.jsx)("audio",{src:a?URL.createObjectURL(a):"",controls:!0,className:"w-100 mb-1"}),a&&(0,V.jsx)(p.Z.Item,{label:"File Name (Optional)",children:(0,V.jsx)(g.Z,{value:c,disabled:x,placeholder:"Enter file name",onChange:e=>o({audioName:e.target.value})})}),(0,V.jsxs)("div",{className:"flex-item gap-1 mb-1",children:[(0,V.jsx)(y.ZP,{htmlType:"button",onClick:()=>{navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0}}).then((e=>{const t=new(H())(e,{type:"audio",bufferSize:4096,sampleRate:44100,audioBitsPerSecond:128e3});t.stream=e,t.startRecording(),o({isRecording:!0,recorder:t,recordingStartedAt:Date.now()})}))},loading:x,children:x?(0,V.jsxs)(V.Fragment,{children:["Recording... ",(0,V.jsx)("span",{children:(e=>{const t=Math.floor(e/60),l=e%60;return"".concat(t<10?"0".concat(t):t," :").concat(l<10?"0".concat(l):l)})(u)})," "]}):"Start Recording"}),(0,V.jsx)(y.ZP,{htmlType:"button",onClick:I,disabled:!x,children:"Stop Recording"}),(0,V.jsx)(y.ZP,{type:"primary",htmlType:"button",loading:N,onClick:async()=>{const e=new FormData;e.append("duration",m),e.append("audio",a,c||w()),j((0,i.vw)(e)),o({blob:null,audioName:""})},disabled:!a||x,children:"Save Recording"})]})]}),(0,V.jsx)(M.Z,{style:{maxHeight:420,paddingRight:10},children:(0,V.jsx)(f.Z,{footer:!1,bordered:!1,loading:S,dataSource:k,header:"Available Audios",renderItem:(e,t)=>{let{_id:l,name:o}=e;return(0,V.jsx)(f.Z.Item,{actions:[(0,V.jsx)(U.Z,{okText:"Yes",cancelText:"No",title:"Delete",onConfirm:()=>j((0,i._I)(l)),description:"Are you sure to delete this Audio?",children:(0,V.jsx)(y.ZP,{danger:!0,size:"small",children:"Delete"})},"delete")],children:(0,V.jsx)(f.Z.Item.Meta,{title:"".concat(t+1,". ").concat(o),style:{alignItems:"center"}})})}})})]})]})}var W=l(85379);function Q(e){let{open:t,onCancel:l}=e;return(0,V.jsx)(R.Z,{centered:!0,open:t,footer:!1,title:"Suggestions",onCancel:l,children:(0,V.jsx)(M.Z,{style:{maxHeight:"calc(100vh - 200px)",paddingRight:10},children:(0,V.jsx)(f.Z,{header:!1,footer:!1,bordered:!1,dataSource:["BENEFIT TO VOTER:","Learn 3 mistakes to avoid...","Hear the juicy details","Ask Anything & Hear The Answer","Make our podcast perfect for you...","Have us discuss what you want to know","Hear some step by step instructions","Get free help from our guest speaker"],renderItem:(e,t)=>(0,V.jsxs)(f.Z.Item,{children:[t+1,". ",(0,V.jsx)(h.default.Text,{copyable:!0,children:e})]})})})})}const{Option:K}=A.default,{Dragger:J}=E.default,{Text:X,Paragraph:$}=h.default;function ee(){const{user:e}=(0,r.E)(),t=p.Z.useFormInstance(),l=p.Z.useWatch("audioDuration",t),o=p.Z.useWatch("socialShareFileSrc",t),[a,c]=(0,n.useState)(0),[u,m]=(0,n.useState)(!1),[h,x]=(0,n.useState)(!1),[v,j]=(0,n.useState)(!1),[b,S]=(0,n.useState)(!1),N=(0,s.I0)(),{files:k,isLoading:w,isUploading:I}=(0,s.v9)((e=>e.files)),T=k.filter((e=>{let{type:t}=e;return t===d.G.IMAGE})),E=e=>["pollSharingImage",e],B=e=>{let{label:l,title:o,formType:a}=e;return(0,V.jsxs)("div",{className:"flex-item gap-2 mb-2",children:[(0,V.jsx)(p.Z.Item,{label:l,className:"w-40 m-0",name:E("".concat(a,"Text")),rules:[{max:45,message:"Maximum 45 character are allowed."}],children:(0,V.jsx)(g.Z,{maxLength:45,placeholder:"Enter the text here",suffix:(0,V.jsx)(P.Z,{title:"Show Suggestions",children:(0,V.jsx)(y.ZP,{type:"text",size:"small",icon:(0,V.jsx)(q.Z,{}),onClick:()=>x(!0)})})})}),(0,V.jsx)(p.Z.Item,{className:"flex-1 m-0",label:"".concat(o," BG COLOR"),name:E("".concat(a,"BgColor")),children:(0,V.jsx)(C.Z,{showText:!0,onChangeComplete:e=>t.setFieldValue(E("".concat(a,"BgColor")),e.toHexString())})}),(0,V.jsx)(p.Z.Item,{className:"flex-1 m-0",label:"".concat(o," TEXT COLOR"),name:E("".concat(a,"TextColor")),children:(0,V.jsx)(C.Z,{showText:!0,onChangeComplete:e=>t.setFieldValue(E("".concat(a,"TextColor")),e.toHexString())})})]})},H=[{key:"pollSharingImage",label:"Customize Automation Sharing Image",children:(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{className:"flex-item gap-2 mb-2",children:[(0,V.jsx)(p.Z.Item,{label:"LOGO IMAGE FROM",name:E("logo"),className:"w-40 m-0",children:(0,V.jsx)(A.default,{loading:w,disabled:w,className:"minw-200px",placeholder:"Select an Image",children:T.map((e=>{let{_id:t,name:l,s3Path:o}=e;return(0,V.jsxs)(K,{value:t,children:[(0,V.jsx)(O.C,{src:(0,Z.fE)(o),size:32}),(0,V.jsx)(X,{style:{marginLeft:5},children:l})]},t)}))})}),(0,V.jsx)(y.ZP,{type:"link",icon:(0,V.jsx)(_.Z,{}),onClick:()=>j(!0),children:"ADD/MANAGE IMAGES"})]}),(0,V.jsx)(B,{label:"HEADLINE HOOK",title:"HEADLINE",formType:"header"}),(0,V.jsx)(B,{label:"FOOTER BENEFIT",title:"FOOTER",formType:"footer"}),(0,V.jsx)(z,{name:E("audio")}),(0,V.jsxs)("div",{className:"flex-item gap-2 mt-4",children:[(0,V.jsx)(y.ZP,{danger:!0,type:"primary",loading:u,onClick:async()=>{var o,a,n;const s=t.getFieldsValue(),{audio:r,guest:d,pollSharingImage:u,hostSpeakerLabel:h,guestSpeakerLabel:p}=s,g={...u,audio:r,userLogo:(null===d||void 0===d?void 0:d.picture)||"",showLogo:null===(o=T.find((e=>{let{_id:t}=e;return t===u.logo})))||void 0===o?void 0:o.s3Path,host:{fontColor:"#000000",label:h,text:"".concat(e.firstName," ").concat(e.lastName," ").concat(null!==e&&void 0!==e&&null!==(a=e.profile)&&void 0!==a&&a.organization?"(".concat(null===e||void 0===e||null===(n=e.profile)||void 0===n?void 0:n.organization,")"):"")},guest:{fontColor:"#000000",label:p,text:"".concat(d.fullName," ").concat(d.organization?"(".concat(d.organization,")"):"")}};if(!g.userLogo)return F.ZP.error({message:"Error",description:"Please upload your headshot image first."});if(!g.showLogo)return F.ZP.error({message:"Error",description:"Please select a logo image"});m(!0),c(l||60);try{const{imageS3Path:e,videoS3Path:l}=await(0,i.TQ)(g);t.setFieldValue("pollImageSrc",e),l&&t.setFieldValue("socialShareFileSrc",l),F.ZP.success({message:"Success",description:"Automation sharing image generated successfully"})}catch(x){console.error(x),F.ZP.error({message:"Error",description:"Something went wrong"})}finally{m(!1)}},children:"Generate Video Invitation Post"}),(0,V.jsx)(y.ZP,{type:"default",disabled:!o,onClick:()=>S(!0),children:"Preview Video Invitation Post"}),(0,V.jsx)(R.Z,{centered:!0,width:"50%",footer:!1,open:b,title:"Preview Video Invitation Post",onCancel:()=>S(!1),children:(0,V.jsx)("video",{src:(0,Z.fE)(o),controls:!0,style:{width:"100%",height:"auto"}})})]})]})}],Y={name:"file",multiple:!0,showUploadList:!1,accept:".png, .gif, .jpeg, .jpg",customRequest:async e=>{let{file:t}=e;const l=new FileReader;l.readAsDataURL(t),l.onload=async()=>{const e=l.result.split(",")[1],o={images:[{name:t.name,imageData:"data:".concat(t.type,";base64,").concat(e)}]};N((0,i.eg)(o))}},onDrop(e){console.log("Dropped files",e.dataTransfer.files)}};return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(W.Z,{items:H,defaultActive:"pollSharingImage"}),(0,V.jsx)(Q,{open:h,onCancel:()=>x(!1)}),(0,V.jsxs)(R.Z,{centered:!0,footer:!1,title:"Add/Manage Images",open:v,onCancel:()=>j(!1),children:[(0,V.jsx)($,{children:"Add New Image"}),(0,V.jsx)(L.Z,{spinning:I,tip:"Uploading...",children:(0,V.jsxs)(J,{...Y,children:[(0,V.jsx)("p",{className:"ant-upload-drag-icon",children:(0,V.jsx)(G.Z,{})}),(0,V.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,V.jsx)("p",{className:"ant-upload-hint",children:"Supported file types: PNG/JPG/JPEG"})]})}),(0,V.jsx)(M.Z,{style:{maxHeight:420,paddingRight:10},children:(0,V.jsx)(f.Z,{footer:!1,bordered:!1,loading:w,dataSource:T,header:"Available Images",renderItem:e=>{let{_id:t,name:l,s3Path:o}=e;return(0,V.jsx)(f.Z.Item,{actions:[(0,V.jsx)(U.Z,{okText:"Yes",cancelText:"No",title:"Delete Image",onConfirm:()=>N((0,i._I)(t)),description:"Are you sure to delete this image?",children:(0,V.jsx)(y.ZP,{danger:!0,size:"small",children:"Delete"})},"delete")],children:(0,V.jsx)(f.Z.Item.Meta,{title:l,style:{alignItems:"center"},avatar:(0,V.jsx)(O.C,{src:(0,Z.fE)(o)})})})}})})]}),(0,V.jsxs)(R.Z,{centered:!0,footer:!1,destroyOnClose:!0,closable:!1,keyboard:!1,open:u,maskClosable:!1,title:"Video is getting Generated...",children:[(0,V.jsx)($,{className:"mt-2",children:"Please wait while we generate your video. This may take a few minutes."}),(0,V.jsx)(D.Z.Countdown,{format:"mm:ss",title:"Estimated Time:",className:"text-center wait-countdown",value:Date.now()+3*a*1e3,onFinish:()=>c(l||60)})]})]})}var te=l(46417),le=l(64590);const{Text:oe,Title:ae,Paragraph:ne}=h.default,{HOST_GUEST:ie,SOLO_SESSION:se}=d.GUEST_TYPE,re=[{label:"FULL NAME",name:["guest","fullName"],rules:[{required:!0}]},{label:"CELL PHONE",name:["guest","phone"]},{label:"EMAIL ADDRESS",name:["guest","email"],rules:[{required:!0}]},{name:["guest","about"],label:"BIO OR SOCIAL URL"},{name:["guest","jobTitle"],label:"JOB TITLE"},{name:["guest","organization"],label:"ORGANIZATION"}],ce=["TOPIC OR STORY1","TOPIC OR STORY2"],de=[{name:"hostSpeakerLabel",label:"YOUR SPEAKER LABEL"},{name:"guestSpeakerLabel",label:"THEIR SPEAKER LABEL"},{name:"hostOfferUrl",label:"YOUR REWARD URL"},{name:"guestOfferUrl",label:"THEIR REWARD URL"},{required:!0,name:"presentationName",label:"Name of presentation or podcast"}],ue=function(){var e,t,l,o,a;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{email:null===n||void 0===n?void 0:n.email,phone:n?null===(e=n.profile)||void 0===e?void 0:e.phone:"",about:n?null===n||void 0===n||null===(t=n.profile)||void 0===t?void 0:t.about:"",picture:n?null===n||void 0===n||null===(l=n.profile)||void 0===l?void 0:l.picture:"",jobTitle:n?null===n||void 0===n||null===(o=n.profile)||void 0===o?void 0:o.jobTitle:"",organization:n?null===n||void 0===n||null===(a=n.profile)||void 0===a?void 0:a.organization:"",fullName:n?"".concat(null===n||void 0===n?void 0:n.firstName," ").concat(null===n||void 0===n?void 0:n.lastName):""}},me=e=>{const{logo:t,header:l=null,footer:o=null}=e||{};return{logo:t,headerText:l&&(null===l||void 0===l?void 0:l.text)||"",headerBgColor:l&&(null===l||void 0===l?void 0:l.bgColor)||"#1677FF",headerTextColor:l&&l.textColor||"#FFFFFF",footerText:o&&(null===o||void 0===o?void 0:o.text)||"",footerBgColor:o&&(null===o||void 0===o?void 0:o.bgColor)||"#1677FF",footerTextColor:o&&(null===o||void 0===o?void 0:o.textColor)||"#FFFFFF"}};function he(e){var t;let{isGuestAcceptance:l=!1}=e;const{id:o}=(0,c.UO)(),[h]=p.Z.useForm(),Z=(0,s.I0)(),A=(0,c.s0)(),{user:E}=(0,r.E)(),[P,C]=(0,n.useState)(1),F=void 0===o,O=p.Z.useWatch("guestType",h),R=O===se,{guest:L,error:U,isLoading:D,isPublished:q,isPublishing:_}=(0,s.v9)((e=>e.guests)),{audio:G=null,socials:M=[],guest:B,pollImageSrc:H="",pollImageInfo:Y=null,hostOfferUrl:z=null,guestOfferUrl:W=null,recordingDate:Q=null,presentationName:K="",guestType:J=ie,hostSpeakerLabel:X="",guestSpeakerLabel:$="",socialShareFileSrc:he="",potentialTopics:pe=["",""],startHostAutomation:ge=!1,emailTemplate:xe={subject:"[PRESENTATION_NAME] NEXT STEPS",body:"<blockquote>Hi [GUEST_FIRSTNAME], it's [USER_FULLNAME]. (To reach me, please reply all.) I use Upplaud to grow my audience; you can use it at no cost to reach more people too:</blockquote><blockquote>Can we post on our LinkedIn &amp; Facebook about [PODCAST / PRESENTATION NAME] before we do it? Upplaud makes it easy &amp; engaging. (See your private link &amp; password at the end.)</blockquote><blockquote>Here's how Upplaud grows our audience:</blockquote><blockquote>Instead of guessing what others want to know from both of us... Let's ask them! I chose 2 possible topics for our connections to vote on. They can even suggest their own topics privately.</blockquote><blockquote>I've already setup everything, including voting invitation posts for our Facebook &amp; LinkedIn. (It doesn't matter how active you are: Influencers on social media love engaging like this, and will share you with more people!)</blockquote><blockquote>We can also share our Upplaud voting page through email &amp; elsewhere. All you need to do is click the Grow Audience link below. It only takes a few seconds to connect your LinkedIn and/or Facebook to Upplaud. (I've connected mine already.)</blockquote><blockquote>Thanks for doing this now (and not procrastinating!) Every day counts to grow our audience: More time for more votes, more shares &amp; more results.</blockquote><blockquote>The link to click is below my name (be sure to reference your Private Password, to securely connect your social media). I'm excited to grow together.</blockquote><blockquote><br></blockquote><blockquote>Thanks again, see you soon. - [USER_FIRSTNAME]</blockquote><p><br></p>"}}=L||{};console.log("guest",L);const ve=(0,u.K6)((null===E||void 0===E?void 0:E.socialAccounts)||[]);(0,n.useEffect)((()=>(Z((0,i.bE)()),!F&&o&&Z((0,m.wY)(o)),F&&Z((0,m.xq)({guest:null,isPublished:!1})),()=>Z((0,m.xq)({guest:null})))),[F,o,Z]),(0,n.useEffect)((()=>(L&&h.resetFields(),()=>h.resetFields())),[L,h]),(0,n.useEffect)((()=>{const{email:e,phone:t,about:l,picture:o,fullName:a}=ue(R?E:B);h.setFieldsValue({guest:{email:e,phone:t,about:l,picture:o,fullName:a}})}),[E,B,h,R]),(0,n.useEffect)((()=>(U&&403===U.status&&A("/403"),()=>Z((0,m.xq)({error:null})))),[U,A,Z]);const fe={guestType:J,pollImageSrc:H,hostOfferUrl:z,emailTemplate:xe,guestOfferUrl:W,potentialTopics:pe,presentationName:K,hostSpeakerLabel:X,guestSpeakerLabel:$,socialShareFileSrc:he,startHostAutomation:ge,audio:(null===G||void 0===G?void 0:G._id)||null,audioDuration:(null===G||void 0===G?void 0:G.duration)||0,guest:ue(B),socials:M.length>0?M:ve,pollSharingImage:me(Y),recordingDate:Q?a()(Q,"YYYY/MM/DD"):null},je=e=>{h.validateFields().then((t=>{t.status=e,t.recordingDate=a()(null===t||void 0===t?void 0:t.recordingDate).format(),Z(F?(0,m.hw)(t):(0,m.sF)(o,t))})).catch(console.log)},be=[{title:"Got your info",className:"pointer-none",content:(0,V.jsx)("span",{children:"current-user-details"})},{title:"Guest info",content:(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(ae,{level:5,children:null===(t=(0,u.Ug)(O))||void 0===t?void 0:t.text}),re.map((e=>{let{label:t,name:l,rules:o=null}=e;return(0,V.jsx)(p.Z.Item,{name:l,label:t,rules:R?null:o,children:(0,V.jsx)(g.Z,{placeholder:t,disabled:R})},t)})),(0,V.jsx)(p.Z.Item,{name:["guest","picture"],label:"HEADSHOT IMAGE",className:"m-0",children:(0,V.jsx)(T.Z,{picture:p.Z.useWatch(["guest","picture"],h),onChange:e=>h.setFieldValue(["guest","picture"],e)})})]})},{title:"Topics info",content:(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(ae,{level:5,children:"Automation Info"}),ce.map(((e,t)=>(0,V.jsx)(p.Z.Item,{label:e,rules:[{required:!0}],name:["potentialTopics",t],children:(0,V.jsx)(g.Z,{placeholder:e})},t))),de.map(((e,t)=>{let{name:l,label:o,required:a=!1}=e;return(0,V.jsx)(p.Z.Item,{name:l,label:o,rules:[{required:a}],className:de.length-1===t?"m-0":"",children:(0,V.jsx)(g.Z,{placeholder:o})},o)}))]})},{title:"Voter invites",content:(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(ee,{}),(0,V.jsx)(te.Z,{})]})},{title:"Guest invites",content:(0,V.jsxs)(x.Z,{gutter:[24],children:[(0,V.jsxs)(v.Z,{span:18,children:[(0,V.jsx)(ae,{level:4,className:"mt-0",children:"Invite Email"}),(0,V.jsx)(ne,{strong:!0,className:"mb-1",children:"Subject"}),(0,V.jsx)(p.Z.Item,{name:["emailTemplate","subject"],wrapperCol:24,children:(0,V.jsx)(g.Z,{placeholder:"Subject"})}),(0,V.jsx)(ne,{strong:!0,className:"mb-1",children:"Body"}),(0,V.jsx)(I.Z,{name:["emailTemplate","body"],placeholder:"Enter your text here...",formItemParams:{className:"m-0",wrapperCol:24}})]}),(0,V.jsxs)(v.Z,{span:6,children:[(0,V.jsx)(ae,{level:5,className:"mt-0",children:"Short Codes"}),(0,V.jsx)(f.Z,{bordered:!0,size:"small",itemLayout:"horizontal",renderItem:e=>(0,V.jsx)(f.Z.Item,{children:e}),dataSource:["[USER_FIRSTNAME]","[USER_LASTNAME]","[USER_FULLNAME]","[GUEST_FIRSTNAME]","[GUEST_LASTNAME]","[GUEST_FULLNAME]","[PRESENTATION_NAME]"]})]})]})},{title:"UPPLAUD LAUNCH",content:(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(p.Z.Item,{className:"w-50 mt-4",name:"recordingDate",label:"Automation End Date",rules:[{required:!0}],children:(0,V.jsx)(j.Z,{className:"w-75 ml-0",disabledDate:e=>e&&(e<a()().subtract(1,"day")||e>a()().add(1,"years"))})}),(0,V.jsxs)("div",{className:"flex-item",children:[(0,V.jsx)(p.Z.Item,{className:"m-0",valuePropName:"checked",label:"POSTING STARTS NOW",name:"startHostAutomation",labelCol:{span:20},children:(0,V.jsx)(b.Z,{disabled:R})}),(0,V.jsx)(oe,{type:"secondary",className:"ml-1",children:"Start when they starts"})]}),(0,V.jsxs)(S.Z,{size:20,className:"mt-4",children:[(0,V.jsx)(y.ZP,{onClick:()=>C((e=>e-1)),children:"Back"}),(0,V.jsx)(y.ZP,{loading:D&&!_,onClick:()=>je(d.POLL_STATUS.DRAFT),children:"SAVE DRAFT"}),(0,V.jsx)(y.ZP,{type:"primary",loading:D&&_,onClick:()=>je(d.POLL_STATUS.PUBLISHED),children:"LAUNCH AUTOMATION"})]})]})}];return(0,V.jsxs)("div",{className:"automation-form",children:[!l&&(0,V.jsx)(w.Z,{title:"".concat(F?"New":"Update"," Automation")}),(0,V.jsxs)("div",{className:"add-guest",children:[(0,V.jsx)(ae,{className:"m-0",children:"NEW UPPLAUD AUTOMATION"}),!q&&(0,V.jsx)(ae,{level:5,className:"fw-400",type:"secondary",children:"Pull in more interest when your upplaud automation is posted automatically."})]}),!q&&(0,V.jsxs)(p.Z,{form:h,size:"large",labelWrap:!0,labelAlign:"left",layout:"horizontal",labelCol:{span:7},wrapperCol:{span:17},initialValues:fe,children:[(0,V.jsx)(p.Z.Item,{hidden:!0,name:"pollImageSrc",label:"Poll Image",children:(0,V.jsx)(g.Z,{placeholder:"Poll Image"})}),(0,V.jsx)(p.Z.Item,{hidden:!0,name:"socialShareFileSrc",label:"Social Share File",children:(0,V.jsx)(g.Z,{placeholder:"Social Share File"})}),(0,V.jsx)(p.Z.Item,{name:"guestType",className:"mb-1",children:(0,V.jsx)(N.ZP.Group,{options:u.Qg})}),(0,V.jsx)(ae,{level:4,className:"mt-0",children:"Quick Steps:"}),(0,V.jsx)(k.Z,{current:P,items:be,onChange:C}),be.map(((e,t)=>(0,V.jsx)("div",{className:"mt-2 mb-2",style:{display:P===t?"block":"none"},children:null===e||void 0===e?void 0:e.content},t))),P!==be.length-1&&(0,V.jsxs)("div",{className:"flex-item gap-1 flex-center",children:[P<be.length-1&&(0,V.jsx)(y.ZP,{type:"primary",onClick:()=>{C((e=>e+1))},children:"Next Step"}),P>1&&(0,V.jsx)(y.ZP,{onClick:()=>C((e=>e-1)),children:"Back"})]})]}),q&&(0,V.jsx)(le.Z,{guest:L,showActionBtns:!0,onGoBack:()=>Z((0,m.xq)({isPublished:!1}))})]})}},64590:(e,t,l)=>{l.d(t,{Z:()=>g});var o=l(78302),a=l(2556),n=l(57689),i=l(11087),s=l(38072),r=l(908),c=l(99372),d=l(67575),u=l(80184);function m(e){let{text:t="",className:l="",onCopy:a=(()=>{})}=e;return(0,u.jsx)("div",{className:"p-1 br-5px bg-sky-6 border-sky-1 ".concat(l),children:(0,u.jsx)(o.default.Paragraph,{ellipsis:!0,copyable:{onCopy:a},className:"m-0 flex-item space-between",children:t})})}var h=l(76806);const{Title:p}=o.default;function g(e){let{guest:t,showActionBtns:l=!1,onGoBack:o=(()=>{})}=e;const g=(0,n.s0)(),x=(null===t||void 0===t?void 0:t.startHostAutomation)||!1,v=((null===t||void 0===t?void 0:t.socials)||[]).reduce(((e,t)=>{if(!t||!t.isConnected)return e;const{type:l,subType:o}=t;return[...e,"".concat(r.W[l]," ").concat(o)]}),[]);return(0,u.jsxs)("div",{className:"mt-2 bg-F7F3F9 p-3 br-5px",children:[(0,u.jsx)(p,{level:3,children:"\ud83d\udc4f Congrats, your new Upplaud is ready to pull in new interest!"}),(0,u.jsxs)(p,{level:5,children:["Voters will be directed to:"," ",(0,u.jsx)(i.rU,{target:"_blank",to:"/vote/".concat(null===t||void 0===t?void 0:t._id),children:"Voting Page"})]}),(0,u.jsx)(p,{level:5,children:"You've connected:"}),(0,u.jsx)("ul",{children:v.map(((e,t)=>(0,u.jsx)("li",{className:"capitalize",children:e},t)))}),(0,u.jsxs)(p,{level:5,children:["Preview your voter invitation video:"," ",(0,u.jsx)(h.Z,{className:"ml-1",socialShareFileSrc:null===t||void 0===t?void 0:t.socialShareFileSrc})," "]}),(0,u.jsxs)(p,{level:5,className:"mb-1",children:["Your guest will be invited to connect here:"," ",(0,u.jsx)(i.rU,{target:"_blank",to:"/guest-acceptance/".concat(null===t||void 0===t?void 0:t._id),children:"Guest Invitation Page"})]}),(0,u.jsxs)(p,{level:5,className:"mt-0",children:["Their private invite password is:"," ",(0,u.jsx)(m,{text:null===t||void 0===t?void 0:t.password,className:"d-inline-block w-125px ml-1"})]}),(0,u.jsxs)(p,{level:4,children:["We'll start posting"," ",x?"when your guest connects their social media.":"later today!"]}),l&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(a.ZP,{type:"default",size:"large",onClick:o,icon:(0,u.jsx)(c.Z,{}),children:"Go back to make any changes."}),(0,u.jsx)(a.ZP,{type:"primary",size:"large",className:"d-block mt-2",icon:(0,u.jsx)(d.Z,{}),onClick:()=>g(s.PATH_DASHBOARD.dashboard.automations),children:"CONFIRM YOUR NEW UPPLAUD & SEE YOUR OTHER AUTOMATIONS"})]})]})}},76806:(e,t,l)=>{l.d(t,{Z:()=>r});var o=l(72791),a=l(78302),n=l(40959),i=l(33805),s=l(80184);function r(e){let{text:t="",className:l="",socialShareFileSrc:r=""}=e;const[c,d]=(0,o.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.default.Link,{className:l,onClick:()=>d(!0),children:t||"Preview Video"}),(0,s.jsx)(n.Z,{centered:!0,width:"50%",footer:!1,open:c,title:"Preview Video Invitation Post",onCancel:()=>d(!1),children:(0,s.jsx)("video",{controls:!0,src:(0,i.fE)(r),style:{width:"100%",height:"auto"}})})]})}},46417:(e,t,l)=>{l.d(t,{Z:()=>h});var o=l(85379),a=l(18406),n=l(29966),i=l(93070),s=l(89862),r=l(97412),c=l(61431),d=l(2556),u=l(71234),m=l(80184);function h(){const e=i.Z.useFormInstance(),t=i.Z.useWatch("socials",e)||[],l=[4,3,2,1].map((e=>({value:e,label:"Post [".concat(e,"x] monthly")}))),h=(l,o,a)=>{const n=t.map((e=>e._id===l?{...e,[o]:a}:e));e.setFieldValue("socials",n)},p=t.length>0,g=[{key:"social",label:"Confirm Socials & Posting Frequency",children:(0,m.jsxs)("div",{className:"flex-item gap-1 flex-column align-baseline",children:[(0,m.jsx)(i.Z.Item,{name:"socials",hidden:!0,children:(0,m.jsx)("input",{})}),p&&t.map((e=>{let{_id:t,type:o,subType:i,subTypeName:u="",isActive:p,frequency:g,isConnected:x}=e;return(0,m.jsxs)("div",{className:"flex-item gap-1 flex-auto",children:[(0,m.jsx)(s.Z,{checked:p,className:"uppercase",disabled:!x,onChange:e=>h(t,"isActive",e.target.checked),children:(0,a.dh)(o,i,u)}),(0,m.jsx)(r.default,{size:"small",defaultValue:4,value:g,placeholder:"Select",disabled:!x,options:l,style:{minWidth:200},onChange:e=>h(t,"frequency",e)}),!x&&(0,m.jsx)(c.Z,{color:"red",arrow:!1,title:"Please connect your social account to enable this automation.",children:(0,m.jsxs)(d.ZP,{danger:!0,type:"text",size:"small",shape:"circle",icon:(0,m.jsx)(n.Z,{}),children:["Account Disconnected"," "]})})]},t)})),!p&&(0,m.jsx)(u.Z,{showIcon:!0,style:{fontWeight:600},message:"No social media accounts found. Please connect your social media accounts first."})]})}];return(0,m.jsx)(o.Z,{items:g,defaultActive:"social",marginBottom:!1})}},34105:(e,t,l)=>{l.d(t,{Z:()=>g});var o=l(49367),a=l(2556),n=l(58533),i=l(72791),s=l(57960),r=l(76452),c=l(20043),d=l(12584),u=l(80184);function m(e){let{onComplete:t,children:l,cropShape:o="round",aspect:a=1}=e;const[m,h]=(0,i.useState)(!1),p=e=>!!["image/png","image/jpg","image/jpeg"].includes(e.type.toLowerCase())||(s.ZP.error("You can only upload JPG/PNG file!"),!1),g={name:"file",beforeUpload:p,multiple:!1,showUploadList:!1,accept:".png, .jpeg, .jpg",customRequest:e=>{let{file:l}=e;const o=new FileReader;o.onloadend=async()=>{try{h(!0);const e=await(0,d.Vg)({imageData:o.result});h(!1),t(null===e||void 0===e?void 0:e.s3Path)}catch(e){console.log(e),h(!1)}},o.readAsDataURL(l)}};return(0,u.jsx)(n.Z,{showReset:!0,rotationSlider:!0,aspect:a,modalOk:"Upload",cropShape:o,fillColor:"transparent",beforeCrop:p,children:(0,u.jsx)(r.default,{...g,children:(0,u.jsx)(c.Z,{spinning:m,children:l})})})}var h=l(72351),p=l(33805);function g(e){let{picture:t="",onChange:l}=e;const n=t?t.startsWith("http")?t:(0,p.fE)(t):null;return(0,u.jsxs)("div",{className:"flex-item",children:[n&&(0,u.jsx)(o.C,{size:"large",src:n}),(0,u.jsx)(m,{onComplete:l,children:(0,u.jsxs)(a.ZP,{icon:(0,u.jsx)(h.Z,{}),children:["Click to ",n?"Change":"Upload"]})})]})}},18406:(e,t,l)=>{l.d(t,{K6:()=>v,MD:()=>f,Qg:()=>p,Ug:()=>g,dh:()=>x,fh:()=>h,mr:()=>m});var o=l(25415),a=l(908);const{FACEBOOK:n}=a.SOCIAL_TYPE,{HOST_GUEST:i,SOLO_SESSION:s}=a.GUEST_TYPE,{PROFILE:r,PAGE:c,GROUP:d}=a.SOCIAL_SUB_TYPE,u=["##E91E63","#673AB7","#2196F3","#00BCD4","#FF9800","#8BC34A","#009688","#FF5722","#607D8B","#F44336"],m=()=>u[Math.floor(Math.random()*u.length)],h=e=>new Date(e).toDateString(),p=[{key:i,value:i,label:"JOINT SESSION",text:"Their Info"},{key:s,value:s,label:"SOLO SESSION",text:"Your Info"}],g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return p.find((t=>t.key===e))},x=function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const o=(e=>a.W[e])(e);return t===r?"YOUR ".concat(o," PROFILE"):t===c?"YOUR ".concat(o," PAGE: ").concat(l):t===d?"YOUR ".concat(o," GROUP: ").concat(l):""},v=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(((e,t)=>{if(null===t||void 0===t||!t.isConnected)return e;const{type:l,socialId:o,page:a,group:i}=t,s=function(e,t){return{type:l,subType:e,frequency:arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,subTypeId:t,subTypeName:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",isActive:!1,_id:"".concat(l,"_").concat(e),isConnected:(t||"").toString().length>0}},u=e=>{var t;return(null===e||void 0===e||null===(t=e.accounts.find((t=>{let{id:l}=t;return l===(null===e||void 0===e?void 0:e.socialId)})))||void 0===t?void 0:t.name)||""},m=[...e,s(r,o),s(c,null===a||void 0===a?void 0:a.socialId,u(a))];return l===n?[...m,s(d,null===i||void 0===i?void 0:i.socialId,u(a))]:m}),[])},f=e=>{const t=new o.Workbook,l=t.addWorksheet("Voting Data"),{questionnaireAnswers:a=[]}=e[0]||{},[n,i,s,r]=a;l.columns=[{header:"Selected Topic",key:"topic"},{header:"Voter Name",key:"voter_name"},{header:"Voter Email",key:"voter_email"},{header:"Voter Cell Phone",key:"voter_cellphone"},{header:"User Suggested",key:"isSuggestion"},{header:"Suggested Topic",key:"suggested_topic"},{header:"Suggested Speaker",key:"suggested_speaker"},{header:"Question 1: ".concat(null===n||void 0===n?void 0:n.question),key:"quest1"},{header:"Question 2: ".concat(null===i||void 0===i?void 0:i.question),key:"quest2"},{header:"Referral 1",key:"quest2_referral1"},{header:"Referral 2",key:"quest2_referral2"},{header:"Name",key:"quest2_name"},{header:"Email",key:"quest2_email"},{header:"Question 3: ".concat(null===s||void 0===s?void 0:s.question),key:"quest3"},{header:"Question 4: ".concat(null===r||void 0===r?void 0:r.question),key:"quest4"},{header:"Timestamp",key:"timestamp"}],e.forEach((e=>{var t,o,a,n,i,s;const{selectedTopic:r,voter:c,isSuggestion:d,suggestions:u,createdAt:m,questionnaireAnswers:h}=e,[p,g,x,v]=h;l.addRow({topic:(null===r||void 0===r?void 0:r.topic)||"Other",voter_name:(null===c||void 0===c?void 0:c.name)||"--",voter_email:(null===c||void 0===c?void 0:c.email)||"--",voter_cellphone:(null===c||void 0===c?void 0:c.cell_phone)||"--",isSuggestion:d?"Yes":"No",suggested_topic:(null===u||void 0===u?void 0:u.topic)||"--",suggested_speaker:(null===u||void 0===u?void 0:u.speaker)||"--",quest1:p&&(null===p||void 0===p?void 0:p.answers)||"--",quest2:null!==g&&void 0!==g&&g.answers?"Comment: ".concat((null===g||void 0===g||null===(t=g.answers)||void 0===t?void 0:t.comment)||"--"):"--",quest2_referral1:(null===g||void 0===g||null===(o=g.answers)||void 0===o?void 0:o.referral1)||"--",quest2_referral2:(null===g||void 0===g||null===(a=g.answers)||void 0===a?void 0:a.referral2)||"--",quest2_name:(null===g||void 0===g||null===(n=g.answers)||void 0===n?void 0:n.name)||"--",quest2_email:(null===g||void 0===g||null===(i=g.answers)||void 0===i?void 0:i.email)||"--",quest3:x&&(null===x||void 0===x||null===(s=x.answers)||void 0===s?void 0:s.answer)||"--",quest4:v?null!==v&&void 0!==v&&v.doneSharing?"Yes":"No":"--",timestamp:new Date(m).toLocaleString()})})),t.xlsx.writeBuffer().then((e=>{const t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),l=window.URL.createObjectURL(t),o=document.createElement("a");o.href=l,o.download="VotingData.xlsx",o.click()}))}}}]);
//# sourceMappingURL=330.51435bf0.chunk.js.map