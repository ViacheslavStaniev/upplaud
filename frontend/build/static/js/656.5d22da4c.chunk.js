"use strict";(self.webpackChunkpdsq_frontend=self.webpackChunkpdsq_frontend||[]).push([[656],{95656:(e,l,s)=>{s.r(l),s.d(l,{default:()=>C});var n=s(94545),o=s(83769),i=s(76171),r=s(64554),a=s(72791);const t=s.p+"static/media/watermark.b7a2a699c2ad36dae68385b12aab8aee.svg";var c=s(80184);function d(e){let{children:l}=e;return(0,c.jsx)(r.Z,{height:200,width:100,image:t,zIndex:0,className:"watermark",children:l})}var u=s(60173),h=s(908),m=s(33805),p=s(99372),x=s(57689),v=s(48080),j=s(78302),f=s(36473),g=s(2556),N=s(14520),b=s(93070),y=s(49389),Z=s(20043),k=s(48531),w=s(49367),S=s(40959);const{Text:E,Link:I,Title:q,Paragraph:F}=j.default,R=[{key:"first",answers:"",question:"So, what\u2019s your interest in this topic?",options:["For me","For someone else","No, just voted to help"]},{key:"second",answers:{},question:"Oh? Know someone else that should hear our topic?",options:[""]},{key:"third",answers:"",question:"BTW: If we put together a guide or a checklist based on the topic:",options:["Yes","Maybe","No"]},{key:"fourth",answers:"",question:"Would you be willing to post our topic poll on your Facebook or LinkedIn?",options:[]}],Y={poll:"",isSuggestion:!1,questionnaireAnswers:[],selectedTopic:{topic:"",index:0},suggestions:{topic:"",speaker:""},voter:{name:"",email:"",cell_phone:""}};function C(){const{pollUniqueId:e}=(0,x.UO)(),[l,s]=(0,a.useState)({currentQuestion:1,showEndScreen:!1,openSuccessModal:!1,startQuestionnaire:!1,openSuggestionForm:!1,finalResult:Y,poll:{guest:null,error:null,isLoading:!1}}),[r,t]=(0,a.useState)({answer:"",userInfo:{name:"",email:"",cell_phone:""}}),j=e=>s((l=>({...l,...e}))),{poll:k,finalResult:w,showEndScreen:S,currentQuestion:C,openSuccessModal:B,openSuggestionForm:M,startQuestionnaire:U}=l,_=(null===w||void 0===w?void 0:w.questionnaireAnswers)||[],L=_[C-1],{guest:z,error:W,isLoading:D}=k,Q=null===z||void 0===z?void 0:z._id;if((0,a.useEffect)((()=>{const l=e=>s((l=>({...l,poll:{...l.poll,...e}})));l({isLoading:!0}),v.XY.getPollByUniqueId(e).then((e=>l({guest:e,isLoading:!1}))).catch((e=>l({error:e,isLoading:!1})))}),[e]),W||z&&(null===z||void 0===z?void 0:z.status)===h.POLL_STATUS.DRAFT)return(0,c.jsx)(x.Fg,{to:"/404"});const V=(0,m.fE)(null===z||void 0===z?void 0:z.pollImageSrc)||"",[G="",K=""]=(null===z||void 0===z?void 0:z.potentialTopics)||[],H=e=>{(0,v.sU)(Q,e).then((l=>j({finalResult:null!==l&&void 0!==l&&l._id?l:e}))).catch(console.log)},X=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const s={openSuccessModal:""!==l,openSuggestionForm:""===l,finalResult:{...w,poll:Q,isSuggestion:""===l,selectedTopic:{topic:l,index:e}}};j(s),H(s.finalResult)},J=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const s=3===e,{questionnaireAnswers:n=[]}=w;n[e]?n[e]={...n[e],answers:l}:n.push({...R[e],answers:l});const o={showEndScreen:s,finalResult:{...w,questionnaireAnswers:n},currentQuestion:s?C:C+1};j(o),H(o.finalResult)};var $,ee,le,se,ne,oe,ie,re,ae,te,ce,de,ue,he,me,pe,xe,ve;return S?(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)(T,{src:V,height:160}),(0,c.jsxs)(f.Z,{className:"bg-EEF4FB mt-4 mb-4",bodyStyle:{padding:14},children:[(0,c.jsx)(q,{level:3,className:"m-",children:"Thank you for your help!"}),(0,c.jsxs)("div",{className:"reward-links",children:[(0,c.jsx)(q,{level:5,className:"mt-2",children:"SEE YOUR REWARDS FROM:"}),(0,c.jsx)(g.ZP,{type:"info",size:"large",shape:"round",target:"_blank",className:"fw-400",href:null===z||void 0===z?void 0:z.guestOfferUrl,children:"".concat(null===z||void 0===z||null===($=z.guest)||void 0===$?void 0:$.firstName," ").concat(null===z||void 0===z||null===(ee=z.guest)||void 0===ee?void 0:ee.lastName)}),(0,c.jsx)(q,{level:5,className:"mt-2",children:"SEE YOUR REWARDS FROM:"}),(0,c.jsx)(g.ZP,{size:"large",shape:"round",type:"primary",target:"_blank",className:"fw-400",href:null===z||void 0===z?void 0:z.hostOfferUrl,children:"".concat(null===z||void 0===z||null===(le=z.user)||void 0===le?void 0:le.firstName," ").concat(null===z||void 0===z||null===(se=z.user)||void 0===se?void 0:se.lastName)})]})]}),(0,c.jsx)(F,{type:"secondary",className:"mb-4",children:"To get more from what we present, click to vote in our other Upplaud polls."}),(0,c.jsx)(n.Z,{})]}):U?(0,c.jsxs)("div",{className:"questionnaire p-2",children:[(0,c.jsxs)("div",{className:"flex-item gap-2 mb-2",children:[(0,c.jsx)(E,{className:"color-0AB6B6",children:"01"}),(0,c.jsx)("div",{className:"flex-1 flex-item gap-2",children:Array.from({length:4}).map(((e,l)=>(0,c.jsx)("div",{onClick:()=>j({currentQuestion:l+1}),style:{flex:1,height:8,cursor:"pointer",backgroundColor:C-1>=l?"#0AB6B6":"#eeeeee",pointerEvents:_[l]?"auto":"none"}},l)))}),(0,c.jsx)(E,{className:"color-0AB6B6",children:"04"})]}),1===C&&(0,c.jsxs)("div",{className:"first-question",children:[(0,c.jsxs)(F,{type:"secondary",className:"m-0",children:['"',null===w||void 0===w||null===(ne=w.selectedTopic)||void 0===ne?void 0:ne.topic,'"']}),(0,c.jsx)(q,{level:3,className:"m-0",type:"info",children:"So, what\u2019s your interest in this topic?"}),(0,c.jsx)(N.Z,{vertical:!0,gap:20,className:"mt-4",children:["For me","For someone else","No, just voted to help"].map(((e,l)=>(0,c.jsx)(g.ZP,{shape:"round",size:"large",className:"text-left",icon:(0,c.jsx)(i.Z,{name:"circle"}),onClick:()=>J(0,e),type:L&&(null===L||void 0===L?void 0:L.answers)===e?"info":"default",children:e},l)))})]}),2===C&&(0,c.jsxs)("div",{className:"second-question",children:[(0,c.jsxs)(F,{type:"secondary",className:"m-0",children:['"',null===w||void 0===w||null===(oe=w.selectedTopic)||void 0===oe?void 0:oe.topic,'"']}),(0,c.jsx)(q,{level:3,className:"m-0 mb-4",type:"success",children:"Oh? Know someone else that should hear our topic?"}),(0,c.jsxs)(b.Z,{onFinish:e=>J(1,e),initialValues:{name:(null===L||void 0===L||null===(ie=L.answers)||void 0===ie?void 0:ie.name)||"",email:(null===L||void 0===L||null===(re=L.answers)||void 0===re?void 0:re.email)||"",comment:(null===L||void 0===L||null===(ae=L.answers)||void 0===ae?void 0:ae.comment)||"",referral1:(null===L||void 0===L||null===(te=L.answers)||void 0===te?void 0:te.referral1)||"",referral2:(null===L||void 0===L||null===(ce=L.answers)||void 0===ce?void 0:ce.referral2)||""},children:[(0,c.jsx)(b.Z.Item,{label:"Referral Name 1",name:"referral1",rules:[{required:!0}],children:(0,c.jsx)(y.Z,{placeholder:"Referral Name 1"})}),(0,c.jsx)(b.Z.Item,{label:"Referral Name 2",name:"referral2",children:(0,c.jsx)(y.Z,{placeholder:"Referral Name 2"})}),(0,c.jsx)(b.Z.Item,{label:"Your Comment",name:"comment",children:(0,c.jsx)(y.Z,{placeholder:"Your Comment"})}),(0,c.jsx)(b.Z.Item,{label:"Your Name",name:"name",rules:[{required:!0}],children:(0,c.jsx)(y.Z,{placeholder:"Your Name"})}),(0,c.jsx)(b.Z.Item,{label:"Your Email",name:"email",rules:[{required:!0}],children:(0,c.jsx)(y.Z,{placeholder:"Your Email"})}),(0,c.jsx)(g.ZP,{block:u.tq,shape:"round",type:"info",size:"large",htmlType:"submit",children:"SEND ME EMAIL TO FORWARD"})]}),(0,c.jsx)(g.ZP,{block:u.tq,type:"ghost",className:"mt-2",onClick:()=>J(1,{skipped:!0}),children:"SKIP FOR NOW"})]}),3===C&&(0,c.jsxs)("div",{className:"third-question",children:[(0,c.jsxs)(f.Z,{className:"bg-EEF4FB mb-4",bodyStyle:{padding:14},children:[(0,c.jsx)(q,{level:3,className:"m-0 mb-2",children:"BTW: If we put together a guide or a checklist based on the topic:"}),(0,c.jsxs)(F,{type:"secondary",className:"m-0",children:['"',null===w||void 0===w||null===(de=w.selectedTopic)||void 0===de?void 0:de.topic,'"']}),(0,c.jsx)(q,{level:4,className:"m-0 mt-2",type:"info",children:"Would you want a copy?"}),(0,c.jsx)(F,{type:"secondary",className:"m-0",children:"No cost, just thanks for voting."}),(0,c.jsx)("div",{className:"flex-item gap-2 mt-2",children:["Yes","Maybe","No"].map(((e,l)=>(0,c.jsx)(g.ZP,{size:"large",shape:"round",type:(null===r||void 0===r?void 0:r.answer)===e?"info":"default",onClick:()=>{const l={...r,answer:e};t(l),"No"===e&&J(2,l)},children:e},l)))})]}),(0,c.jsxs)(b.Z,{initialValues:{name:(null===L||void 0===L||null===(ue=L.answers)||void 0===ue||null===(he=ue.userInfo)||void 0===he?void 0:he.name)||"",email:(null===L||void 0===L||null===(me=L.answers)||void 0===me||null===(pe=me.userInfo)||void 0===pe?void 0:pe.email)||"",cell_phone:(null===L||void 0===L||null===(xe=L.answers)||void 0===xe||null===(ve=xe.userInfo)||void 0===ve?void 0:ve.cell_phone)||""},onFinish:e=>{let{userInfo:l}=e;return J(2,{...r,userInfo:l})},children:[(0,c.jsx)(b.Z.Item,{label:"Your Name",name:["userInfo","name"],rules:[{required:"No"!==(null===r||void 0===r?void 0:r.answer)}],children:(0,c.jsx)(y.Z,{placeholder:"Your Name"})}),(0,c.jsx)(b.Z.Item,{label:"Your Email",name:["userInfo","email"],rules:[{required:"No"!==(null===r||void 0===r?void 0:r.answer)}],children:(0,c.jsx)(y.Z,{placeholder:"Your Email"})}),(0,c.jsx)(b.Z.Item,{label:"Your Cell Phone",name:["userInfo","cell_phone"],rules:[{required:"No"!==(null===r||void 0===r?void 0:r.answer)}],children:(0,c.jsx)(y.Z,{placeholder:"Your Cell Phone"})}),(0,c.jsx)(g.ZP,{block:u.tq,shape:"round",type:"info",size:"large",htmlType:"submit",disabled:""===(null===r||void 0===r?void 0:r.answer),children:"SEND ME A FREE COPY"})]})]}),4===C&&(0,c.jsxs)("div",{className:"fourth-question",children:[(0,c.jsxs)(f.Z,{className:"bg-EEF4FB mb-4",bodyStyle:{padding:14},children:[(0,c.jsx)(q,{level:3,className:"m-0 mb-2",children:"Last question, we promise!"}),(0,c.jsx)(F,{type:"secondary",className:"font-18px",children:"Would you be willing to post our topic poll on your Facebook or LinkedIn?\xa0"}),(0,c.jsx)(F,{type:"secondary",className:"font-18px",children:"You'll be helping us grow our audience. Thanks..."}),(0,c.jsx)(q,{level:4,className:"m-0 mt-2",type:"info",children:"HELP US GET MORE VOTES:"}),(0,c.jsx)(g.ZP,{type:"link",target:"_blank",block:u.tq,className:"text-left font-18px",icon:(0,c.jsx)(i.Z,{name:"facebook"}),href:"https://www.facebook.com/sharer/sharer.php?u=".concat(window.location.href),children:"| Share poll on Facebook"}),(0,c.jsx)(g.ZP,{type:"link",target:"_blank",block:u.tq,className:"text-left font-18px",icon:(0,c.jsx)(i.Z,{name:"linkedin"}),href:"https://www.linkedin.com/sharing/share-offsite/?url=".concat(window.location.href),children:"| Share poll on Linkedin"})]}),(0,c.jsx)(g.ZP,{size:"large",block:u.tq,shape:"round",onClick:()=>J(3,{doneSharing:!0,skipped:!1}),children:"DONE SHARING? SEE YOUR REWARDS"}),(0,c.jsxs)(F,{type:"secondary",className:"mt-4",children:["If you'd rather not try to generate more interest for us, you can"," ",(0,c.jsx)(I,{onClick:()=>J(3,{doneSharing:!1,skipped:!0}),children:"click here"})," ","to skip for now."]})]}),C<3&&(0,c.jsxs)("div",{className:"text-center mt-4",children:[(0,c.jsx)(T,{src:V,height:160,className:"mb-4"}),(0,c.jsx)(g.ZP,{type:"text",icon:(0,c.jsx)(p.Z,{}),onClick:()=>j({currentQuestion:1,openSuccessModal:!1,startQuestionnaire:!1,openSuggestionForm:!1}),children:"Change your vote"})]})]}):(0,c.jsx)(Z.Z,{spinning:D,children:(0,c.jsx)(d,{children:(0,c.jsxs)(f.Z,{bordered:!1,className:"voting-page text-center",children:[(0,c.jsx)(o.Z,{title:"Vote"}),!M&&(0,c.jsxs)("div",{className:"voting-form",children:[(0,c.jsx)(T,{src:V}),(0,c.jsx)(q,{level:2,type:"info",className:"mt-2",children:"Which topic is more interesting?"}),(0,c.jsx)(F,{type:"secondary",children:"Tailor what we present: Click on a box to vote."}),(0,c.jsxs)(N.Z,{vertical:u.tq,gap:40,className:"mb-4 text-left",children:[(0,c.jsxs)(f.Z,{hoverable:!0,className:"flex-1 bg-E6F5FB w-100",onClick:()=>X(0,G),children:[(0,c.jsx)(E,{strong:!0,className:"font-16px",children:G}),(0,c.jsx)(P,{count:1})]}),(0,c.jsxs)(f.Z,{hoverable:!0,className:"flex-1 bg-F3EAF9 w-100",onClick:()=>X(1,K),children:[(0,c.jsx)(E,{strong:!0,className:"font-16px",children:K}),(0,c.jsx)(P,{count:2})]}),(0,c.jsxs)(f.Z,{hoverable:!0,className:"flex-1 bg-EBF9E6 w-100",children:[(0,c.jsx)(F,{className:"m-0 pl-2 font-16px",children:"Don\u2019t prefer either?"}),(0,c.jsx)(g.ZP,{type:"link",size:"large",onClick:()=>X(2,""),children:"Submit your own topic."}),(0,c.jsx)(P,{count:3})]})]}),(0,c.jsx)(O,{open:B,finalResult:w,onClose:()=>j({openSuccessModal:!1}),onBack:()=>j({openSuccessModal:!1,openSuggestionForm:!1}),onFinish:e=>{const l={openSuccessModal:!1,startQuestionnaire:!0,finalResult:{...w,...e}};j(l),H(l.finalResult)}})]}),M&&(0,c.jsx)(A,{finalResult:w,pollImageSrc:V,onBack:()=>j({openSuggestionForm:!1}),onFinish:e=>{const l={startQuestionnaire:!0,finalResult:{...w,...e}};j(l),H(l.finalResult)}})]})})})}function T(e){let{src:l,height:s=200,...n}=e;return(0,c.jsx)("div",{className:"text-center",children:(0,c.jsx)(k.Z,{preview:!1,src:l,height:s,...n})})}function P(e){let{count:l=0}=e;return(0,c.jsx)(w.C,{size:"large",className:"bg-white filter-shadow-1 border-black-1",style:{position:"absolute",left:"calc(50% - 23px)",bottom:-25},children:(0,c.jsx)(E,{strong:!0,className:"font-16px",children:l})})}function O(e){let{open:l,onClose:s,onBack:n,finalResult:o,onFinish:i}=e;return(0,c.jsxs)(S.Z,{centered:!0,open:l,onCancel:s,footer:null,width:600,children:[(0,c.jsx)(q,{level:4,type:"success",className:"text-center mb-4",children:"Thanks! We\u2019ll let you know which topic wins..."}),(0,c.jsxs)(b.Z,{layout:"vertical",onFinish:i,initialValues:o,children:[(0,c.jsx)(b.Z.Item,{label:"Your Name",name:["voter","name"],children:(0,c.jsx)(y.Z,{placeholder:"Your Name"})}),(0,c.jsx)(b.Z.Item,{label:"Your Email",name:["voter","email"],children:(0,c.jsx)(y.Z,{placeholder:"Your Email"})}),(0,c.jsx)(b.Z.Item,{label:"Your Cell Phone",name:["voter","cell_phone"],children:(0,c.jsx)(y.Z,{placeholder:"Your Cell Phone"})}),(0,c.jsxs)(N.Z,{vertical:u.tq,gap:20,children:[(0,c.jsx)(g.ZP,{block:u.tq,shape:"round",type:"info",size:"large",htmlType:"submit",className:"flex-1",children:"UPDATE ME PLEASE"}),(0,c.jsx)(g.ZP,{size:"large",shape:"round",block:u.tq,htmlType:"submit",className:"flex-1",children:"NO, THANKS"}),(0,c.jsx)(g.ZP,{type:"text",size:"large",shape:"round",className:"flex-1",onClick:n,icon:(0,c.jsx)(p.Z,{}),children:"Change your vote"})]})]})]})}function A(e){let{onBack:l,finalResult:s,pollImageSrc:n,onFinish:o}=e;return(0,c.jsxs)("div",{className:"suggestion-form text-left",children:[(0,c.jsx)(q,{level:4,className:"text-center",children:"SUGGEST YOUR OWN TOPIC"}),(0,c.jsxs)(b.Z,{layout:"vertical",onFinish:o,initialValues:s,children:[(0,c.jsx)(b.Z.Item,{label:"Your Name",name:["voter","name"],rules:[{required:!0}],children:(0,c.jsx)(y.Z,{placeholder:"Your Name"})}),(0,c.jsx)(b.Z.Item,{label:"Your Email",name:["voter","email"],rules:[{required:!0}],children:(0,c.jsx)(y.Z,{placeholder:"Your Email"})}),(0,c.jsx)(b.Z.Item,{label:"Your Cell Phone",name:["voter","cell_phone"],rules:[{required:!0}],children:(0,c.jsx)(y.Z,{placeholder:"Your Cell Phone"})}),(0,c.jsx)(b.Z.Item,{label:"Your Topic Suggestion",name:["suggestions","topic"],rules:[{required:!0}],children:(0,c.jsx)(y.Z,{placeholder:"Your Topic Suggestion"})}),(0,c.jsx)(b.Z.Item,{label:"Your Speaker Suggestion",name:["suggestions","speaker"],children:(0,c.jsx)(y.Z,{placeholder:"Your Speaker Suggestion"})}),(0,c.jsx)(g.ZP,{block:u.tq,shape:"round",type:"info",size:"large",htmlType:"submit",children:"SUBMIT TOPIC"})]}),(0,c.jsxs)("div",{className:"text-center mt-2",children:[(0,c.jsx)(T,{src:n,height:160,className:"mb-4"}),(0,c.jsx)(g.ZP,{type:"text",onClick:l,icon:(0,c.jsx)(p.Z,{}),children:"Change your vote"})]})]})}}}]);
//# sourceMappingURL=656.5d22da4c.chunk.js.map