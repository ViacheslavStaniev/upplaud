"use strict";(self.webpackChunkpdsq_frontend=self.webpackChunkpdsq_frontend||[]).push([[480],{85379:(e,l,t)=>{t.d(l,{Z:()=>i});var o=t(24925),a=t(92143),n=t(79286),s=t(80184);function i(e){let{items:l=[],defaultActive:t="",marginBottom:i=!0}=e;return(0,s.jsx)(o.Z,{items:l,bordered:!1,className:"bg-F7F3F9 ".concat(i?"mb-2":""),defaultActiveKey:t?[t]:[],expandIcon:e=>{let{isActive:l}=e;return l?(0,s.jsx)(a.Z,{}):(0,s.jsx)(n.Z,{})}})}},659:(e,l,t)=>{t.d(l,{Z:()=>i});var o=t(93070),a=t(66770),n=t.n(a),s=t(80184);function i(e){let{name:l,...t}=e;return(0,s.jsx)(o.Z.Item,{name:l,...null===t||void 0===t?void 0:t.formItemParams,children:(0,s.jsx)(n(),{theme:"snow",modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],["link","image"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]]},...t})})}},50480:(e,l,t)=>{t.r(l),t.d(l,{default:()=>me});var o=t(97892),a=t.n(o),n=t(83027),s=t.n(n),i=t(72791),r=t(60173),c=t(12584),d=t(59434),u=t(66862),m=t(57689),p=t(908),h=t(18406),g=t(48080),v=t(78302),x=t(93070),f=t(49389),b=t(66106),j=t(30914),S=t(88715),y=t(20512),k=t(21306),N=t(71046),I=t(2556),T=t(74424),E=t(19517),w=t(83769),Z=t(659),A=t(34105),q=t(33805),P=t(97412),C=t(76452),O=t(61431),F=t(54192),U=t(64162),L=t(49367),R=t(40959),_=t(20043),D=t(91082),G=t(28624),M=t(79286),H=t(66776),B=t(94729),z=t(85379),V=t(80184);function Y(e){let{open:l,onCancel:t}=e;return(0,V.jsx)(R.Z,{centered:!0,open:l,footer:!1,title:"Suggestions",onCancel:t,children:(0,V.jsx)(B.Z,{style:{maxHeight:"calc(100vh - 200px)",paddingRight:10},children:(0,V.jsx)(S.Z,{size:"small",header:!1,footer:!1,bordered:!1,dataSource:["BENEFIT TO VOTER:","Learn 3 mistakes to avoid...","Hear the juicy details","Ask Anything & Hear The Answer","Make our podcast perfect for you...","Have us discuss what you want to know","Hear some step by step instructions","Get free help from our guest speaker"],renderItem:(e,l)=>(0,V.jsxs)(S.Z.Item,{className:"pl-0 pr-0",children:[l+1,". ",(0,V.jsx)(v.default.Text,{copyable:!0,children:e})]})})})})}var W=t(85442);const{Option:Q}=P.default,{Dragger:K}=C.default,{Text:J,Paragraph:X}=v.default;function $(){const{user:e}=(0,u.E)(),l=x.Z.useFormInstance(),t=x.Z.useWatch("pollImageSrc",l),[o,a]=(0,i.useState)(!1),[n,s]=(0,i.useState)(!1),[m,h]=(0,i.useState)(!1),g=(0,d.I0)(),{files:v,isLoading:b,isUploading:j}=(0,d.v9)((e=>e.files)),y=v.filter((e=>{let{type:l}=e;return l===p.G.IMAGE})),k=e=>["pollSharingImage",e],N=e=>{let{label:t,title:o,formType:a}=e;return(0,V.jsxs)("div",{className:"flex-item gap-2 mb-2 ".concat(r.tq&&"flex-column full-width-cols"),children:[(0,V.jsx)(x.Z.Item,{label:t,name:k("".concat(a,"Text")),className:r.tq?"w-100":"w-40 m-0",rules:[{max:45,message:"Maximum 45 character are allowed."}],children:(0,V.jsx)(f.Z,{maxLength:45,placeholder:"Enter the text here",suffix:(0,V.jsx)(O.Z,{title:"Show Suggestions",children:(0,V.jsx)(I.ZP,{type:"text",size:"small",icon:(0,V.jsx)(G.Z,{}),onClick:()=>s(!0)})})})}),(0,V.jsx)(x.Z.Item,{className:"flex-1 m-0",label:"".concat(o," BG COLOR"),name:k("".concat(a,"BgColor")),children:(0,V.jsx)(F.Z,{showText:!0,onChangeComplete:e=>l.setFieldValue(k("".concat(a,"BgColor")),e.toHexString())})}),(0,V.jsx)(x.Z.Item,{className:"flex-1 m-0",label:"".concat(o," TEXT COLOR"),name:k("".concat(a,"TextColor")),children:(0,V.jsx)(F.Z,{showText:!0,onChangeComplete:e=>l.setFieldValue(k("".concat(a,"TextColor")),e.toHexString())})})]})},T=[{key:"pollSharingImage",label:"Customize Automation Sharing Image",children:(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{className:"flex-item gap-2 mb-2 ".concat(r.tq&&"flex-column"),children:[(0,V.jsx)(x.Z.Item,{label:"LOGO IMAGE FROM",name:k("logo"),className:"m-0 ".concat(r.tq?"w-100":"w-40"),children:(0,V.jsx)(P.default,{loading:b,disabled:b,className:"minw-200px",placeholder:"Select an Image",children:y.map((e=>{let{_id:l,name:t,s3Path:o}=e;return(0,V.jsxs)(Q,{value:l,children:[(0,V.jsx)(L.C,{src:(0,q.fE)(o),size:32}),(0,V.jsx)(J,{style:{marginLeft:5},children:t})]},l)}))})}),(0,V.jsx)(I.ZP,{type:"link",block:r.tq,icon:(0,V.jsx)(M.Z,{}),onClick:()=>h(!0),children:"ADD/MANAGE IMAGES"})]}),(0,V.jsx)(N,{label:"HEADLINE HOOK",title:"HEADLINE",formType:"header"}),(0,V.jsx)(N,{label:"FOOTER BENEFIT",title:"FOOTER",formType:"footer"}),(0,V.jsxs)("div",{className:"flex-item gap-2 mt-4 ".concat(r.tq&&"flex-column"),children:[(0,V.jsx)(I.ZP,{danger:!0,type:"primary",block:r.tq,loading:o,onClick:async()=>{var t,o,n;const s=l.getFieldsValue(),{audio:i,guest:r,pollSharingImage:d,hostSpeakerLabel:u,guestSpeakerLabel:m}=s,p={...d,audio:i,userLogo:(null===r||void 0===r?void 0:r.picture)||"",showLogo:null===(t=y.find((e=>{let{_id:l}=e;return l===d.logo})))||void 0===t?void 0:t.s3Path,host:{fontColor:"#000000",label:u,text:"".concat(e.firstName," ").concat(e.lastName," ").concat(null!==e&&void 0!==e&&null!==(o=e.profile)&&void 0!==o&&o.organization?"(".concat(null===e||void 0===e||null===(n=e.profile)||void 0===n?void 0:n.organization,")"):"")},guest:{fontColor:"#000000",label:m,text:"".concat(r.fullName," ").concat(r.organization?"(".concat(r.organization,")"):"")}};if(!p.userLogo)return U.ZP.error({message:"Error",description:"Please upload your headshot image first."});if(!p.showLogo)return U.ZP.error({message:"Error",description:"Please select a logo image"});a(!0);try{const{imageS3Path:e,videoS3Path:t}=await(0,c.TQ)(p);l.setFieldValue("pollImageSrc",e),t&&l.setFieldValue("socialShareFileSrc",t),U.ZP.success({message:"Success",description:"Automation sharing image generated successfully"})}catch(h){console.error(h),U.ZP.error({message:"Error",description:"Something went wrong"})}finally{a(!1)}},children:"Generate Invitation Post"}),(0,V.jsx)(W.Z,{pollImageSrc:t,prevEl:(0,V.jsx)(I.ZP,{type:"default",block:r.tq,disabled:!t,children:"Preview Invitation Post"})})]})]})}],E={name:"file",multiple:!0,showUploadList:!1,accept:".png, .gif, .jpeg, .jpg",customRequest:async e=>{let{file:l}=e;const t=new FileReader;t.readAsDataURL(l),t.onload=async()=>{const e=t.result.split(",")[1],o={images:[{name:l.name,imageData:"data:".concat(l.type,";base64,").concat(e)}]};g((0,c.eg)(o))}},onDrop(e){console.log("Dropped files",e.dataTransfer.files)}};return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(z.Z,{items:T,defaultActive:"pollSharingImage"}),(0,V.jsx)(Y,{open:n,onCancel:()=>s(!1)}),(0,V.jsxs)(R.Z,{centered:!0,footer:!1,title:"Add/Manage Images",open:m,onCancel:()=>h(!1),children:[(0,V.jsx)(X,{children:"Add New Image"}),(0,V.jsx)(_.Z,{spinning:j,tip:"Uploading...",children:(0,V.jsxs)(K,{...E,children:[(0,V.jsx)("p",{className:"ant-upload-drag-icon",children:(0,V.jsx)(H.Z,{})}),(0,V.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,V.jsx)("p",{className:"ant-upload-hint",children:"Supported file types: PNG/JPG/JPEG"})]})}),(0,V.jsx)(B.Z,{style:{maxHeight:420,paddingRight:10},children:(0,V.jsx)(S.Z,{size:"small",footer:!1,bordered:!1,loading:b,dataSource:y,header:"Available Images",renderItem:e=>{let{_id:l,name:t,s3Path:o}=e;return(0,V.jsx)(S.Z.Item,{actions:[(0,V.jsx)(D.Z,{okText:"Yes",cancelText:"No",title:"Delete Image",onConfirm:()=>g((0,c._I)(l)),description:"Are you sure to delete this image?",children:(0,V.jsx)(I.ZP,{danger:!0,size:"small",children:"Delete"})},"delete")],className:"pl-0 pr-0",children:(0,V.jsx)(S.Z.Item.Meta,{title:t,style:{alignItems:"center"},avatar:(0,V.jsx)(L.C,{src:(0,q.fE)(o)})})})}})})]})]})}var ee=t(46417),le=t(64590);a().extend(s());const{Text:te,Title:oe,Paragraph:ae}=v.default,{HOST_GUEST:ne,SOLO_SESSION:se}=p.GUEST_TYPE,ie=[{label:"FULL NAME",name:["guest","fullName"],rules:[{required:!0}]},{label:"CELL PHONE",name:["guest","phone"]},{label:"EMAIL ADDRESS",name:["guest","email"],rules:[{required:!0}]},{name:["guest","about"],label:"BIO OR SOCIAL URL"},{name:["guest","jobTitle"],label:"JOB TITLE"},{name:["guest","organization"],label:"ORGANIZATION"}],re=["TOPIC OR STORY1","TOPIC OR STORY2"],ce=[{name:"hostSpeakerLabel",label:"YOUR SPEAKER LABEL"},{name:"guestSpeakerLabel",label:"THEIR SPEAKER LABEL"},{name:"hostOfferUrl",label:"YOUR REWARD URL"},{name:"guestOfferUrl",label:"THEIR REWARD URL"},{required:!0,name:"presentationName",label:"Name of presentation or podcast"}],de=function(){var e,l,t,o,a;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{email:null===n||void 0===n?void 0:n.email,phone:n?null===(e=n.profile)||void 0===e?void 0:e.phone:"",about:n?null===n||void 0===n||null===(l=n.profile)||void 0===l?void 0:l.about:"",picture:n?null===n||void 0===n||null===(t=n.profile)||void 0===t?void 0:t.picture:"",jobTitle:n?null===n||void 0===n||null===(o=n.profile)||void 0===o?void 0:o.jobTitle:"",organization:n?null===n||void 0===n||null===(a=n.profile)||void 0===a?void 0:a.organization:"",fullName:n?"".concat(null===n||void 0===n?void 0:n.firstName," ").concat(null===n||void 0===n?void 0:n.lastName):""}},ue=e=>{const{logo:l,header:t=null,footer:o=null}=e||{};return{logo:l,headerText:t&&(null===t||void 0===t?void 0:t.text)||"",headerBgColor:t&&(null===t||void 0===t?void 0:t.bgColor)||"#1677FF",headerTextColor:t&&t.textColor||"#FFFFFF",footerText:o&&(null===o||void 0===o?void 0:o.text)||"",footerBgColor:o&&(null===o||void 0===o?void 0:o.bgColor)||"#1677FF",footerTextColor:o&&(null===o||void 0===o?void 0:o.textColor)||"#FFFFFF"}};function me(e){var l;let{isGuestAcceptance:t=!1}=e;const{id:o}=(0,m.UO)(),[n]=x.Z.useForm(),s=(0,d.I0)(),v=(0,m.s0)(),{user:q}=(0,u.E)(),[P,C]=(0,i.useState)(1),O=void 0===o,F=x.Z.useWatch("guestType",n),U=F===se,{guest:L,error:R,isLoading:_,isPublished:D,isPublishing:G}=(0,d.v9)((e=>e.guests)),{_id:M=null,audio:H=null,socials:B=[],guest:z,pollImageSrc:Y="",pollImageInfo:W=null,hostOfferUrl:Q=null,guestOfferUrl:K=null,recordingDate:J=null,presentationName:X="",guestType:me=ne,hostSpeakerLabel:pe="",guestSpeakerLabel:he="",socialShareFileSrc:ge="",potentialTopics:ve=["",""],startHostAutomation:xe=!1,emailTemplate:fe={subject:"[PRESENTATION_NAME] NEXT STEPS",body:"<blockquote>Hi [GUEST_FIRSTNAME], it's [USER_FULLNAME]. (To reach me, please reply all.) I use Upplaud to grow my audience; you can use it at no cost to reach more people too:</blockquote><blockquote>Can we post on our LinkedIn &amp; Facebook about [PODCAST / PRESENTATION NAME] before we do it? Upplaud makes it easy &amp; engaging. (See your private link &amp; password at the end.)</blockquote><blockquote>Here's how Upplaud grows our audience:</blockquote><blockquote>Instead of guessing what others want to know from both of us... Let's ask them! I chose 2 possible topics for our connections to vote on. They can even suggest their own topics privately.</blockquote><blockquote>I've already setup everything, including voting invitation posts for our Facebook &amp; LinkedIn. (It doesn't matter how active you are: Influencers on social media love engaging like this, and will share you with more people!)</blockquote><blockquote>We can also share our Upplaud voting page through email &amp; elsewhere. All you need to do is click the Grow Audience link below. It only takes a few seconds to connect your LinkedIn and/or Facebook to Upplaud. (I've connected mine already.)</blockquote><blockquote>Thanks for doing this now (and not procrastinating!) Every day counts to grow our audience: More time for more votes, more shares &amp; more results.</blockquote><blockquote>The link to click is below my name (be sure to reference your Private Password, to securely connect your social media). I'm excited to grow together.</blockquote><blockquote><br></blockquote><blockquote>Thanks again, see you soon. - [USER_FIRSTNAME]</blockquote><p><br></p>"}}=L||{},be=(0,h.K6)((null===q||void 0===q?void 0:q.socialAccounts)||[]);(0,i.useEffect)((()=>(s((0,c.bE)()),!O&&o&&s((0,g.wY)(o)),O&&s((0,g.xq)({guest:null,isPublished:!1})),()=>s((0,g.xq)({guest:null})))),[O,o,s]),(0,i.useEffect)((()=>(L&&n.resetFields(),()=>n.resetFields())),[L,n]),(0,i.useEffect)((()=>{const{email:e,phone:l,about:t,picture:o,fullName:a}=de(U?q:z);n.setFieldsValue({guest:{email:e,phone:l,about:t,picture:o,fullName:a}})}),[q,z,n,U]),(0,i.useEffect)((()=>(R&&403===R.status&&v("/403"),()=>s((0,g.xq)({error:null})))),[R,v,s]);const je={guestType:me,pollImageSrc:Y,hostOfferUrl:Q,emailTemplate:fe,guestOfferUrl:K,potentialTopics:ve,presentationName:X,hostSpeakerLabel:pe,guestSpeakerLabel:he,socialShareFileSrc:ge,startHostAutomation:xe,audio:(null===H||void 0===H?void 0:H._id)||null,audioDuration:(null===H||void 0===H?void 0:H.duration)||0,guest:de(z),socials:B.length>0?B:be,pollSharingImage:ue(W),recordingDate:J?a().utc(J).local():null},Se=e=>{n.validateFields().then((l=>{l.status=e,l.recordingDate=a()(null===l||void 0===l?void 0:l.recordingDate).format(),s(O&&!M?(0,g.hw)(l):(0,g.sF)(o||M,l))})).catch(console.log)},ye=[{title:"Got your info",className:"pointer-none",content:(0,V.jsx)("span",{children:"current-user-details"})},{title:"Guest info",content:(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(oe,{level:5,children:null===(l=(0,h.Ug)(F))||void 0===l?void 0:l.text}),ie.map((e=>{let{label:l,name:t,rules:o=null}=e;return(0,V.jsx)(x.Z.Item,{name:t,label:l,rules:U?null:o,children:(0,V.jsx)(f.Z,{placeholder:l,disabled:U})},l)})),(0,V.jsx)(x.Z.Item,{name:["guest","picture"],label:"HEADSHOT IMAGE",className:"m-0",children:(0,V.jsx)(A.Z,{picture:x.Z.useWatch(["guest","picture"],n),onChange:e=>n.setFieldValue(["guest","picture"],e)})})]})},{title:"Topics info",content:(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(oe,{level:5,children:"Automation Info"}),re.map(((e,l)=>(0,V.jsx)(x.Z.Item,{label:e,rules:[{required:!0}],name:["potentialTopics",l],children:(0,V.jsx)(f.Z,{placeholder:e})},l))),ce.map(((e,l)=>{let{name:t,label:o,required:a=!1}=e;return(0,V.jsx)(x.Z.Item,{name:t,label:o,rules:[{required:a}],className:ce.length-1===l?"m-0":"",children:(0,V.jsx)(f.Z,{placeholder:o})},o)}))]})},{title:"Voter invites",content:(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)($,{}),(0,V.jsx)(ee.Z,{})]})},{title:"Guest invites",content:(0,V.jsxs)(b.Z,{gutter:[24],children:[(0,V.jsxs)(j.Z,{span:r.tq?24:18,children:[(0,V.jsx)(oe,{level:4,className:"mt-0",children:"Invite Email"}),(0,V.jsx)(ae,{strong:!0,className:"mb-1",children:"Subject"}),(0,V.jsx)(x.Z.Item,{name:["emailTemplate","subject"],wrapperCol:24,children:(0,V.jsx)(f.Z,{placeholder:"Subject"})}),(0,V.jsx)(ae,{strong:!0,className:"mb-1",children:"Body"}),(0,V.jsx)(Z.Z,{name:["emailTemplate","body"],placeholder:"Enter your text here...",formItemParams:{className:"m-0",wrapperCol:24}})]}),(0,V.jsxs)(j.Z,{span:r.tq?24:6,children:[(0,V.jsx)(oe,{level:5,className:r.tq?"mt-2":"mt-0",children:"Short Codes"}),(0,V.jsx)(S.Z,{bordered:!0,size:"small",itemLayout:"horizontal",renderItem:e=>(0,V.jsx)(S.Z.Item,{children:e}),dataSource:["[USER_FIRSTNAME]","[USER_LASTNAME]","[USER_FULLNAME]","[GUEST_FIRSTNAME]","[GUEST_LASTNAME]","[GUEST_FULLNAME]","[PRESENTATION_NAME]"]})]})]})},{title:"UPPLAUD LAUNCH",content:(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(x.Z.Item,{name:"recordingDate",label:"Automation End Date",rules:[{required:!0}],className:r.tq?"w-100":"w-50 mt-4",children:(0,V.jsx)(y.Z,{className:r.tq?"w-100":"w-75 ml-0",disabledDate:e=>e&&(e<a()().subtract(1,"day")||e>a()().add(1,"years"))})}),(0,V.jsxs)("div",{className:"flex-item position-relative",children:[(0,V.jsx)(x.Z.Item,{className:"m-0",labelCol:{span:20},valuePropName:"checked",label:"POSTING STARTS NOW",name:"startHostAutomation",children:(0,V.jsx)(k.Z,{disabled:U})}),(0,V.jsx)(te,{type:"secondary",className:"ml-1",style:{...r.tq&&{left:50,bottom:10,position:"absolute"}},children:"Start when they starts"})]}),(0,V.jsxs)(N.Z,{className:"mt-4 w-100",size:r.tq?12:20,direction:r.tq?"vertical":"horizontal",children:[(0,V.jsx)(I.ZP,{block:r.tq,onClick:()=>C((e=>e-1)),children:"Back"}),(0,V.jsx)(I.ZP,{block:r.tq,loading:_&&!G,onClick:()=>Se(p.POLL_STATUS.DRAFT),children:"SAVE DRAFT"}),(0,V.jsx)(I.ZP,{type:"primary",block:r.tq,loading:_&&G,onClick:()=>Se(p.POLL_STATUS.PUBLISHED),children:"LAUNCH AUTOMATION"})]})]})}];return(0,V.jsxs)("div",{className:"automation-form",children:[!t&&(0,V.jsx)(w.Z,{title:"".concat(O?"New":"Update"," Automation")}),(0,V.jsxs)("div",{className:"add-guest",children:[(0,V.jsx)(oe,{level:r.tq?3:1,className:"m-0",children:"NEW UPPLAUD AUTOMATION"}),!D&&(0,V.jsx)(oe,{level:5,className:"fw-400",type:"secondary",children:"Pull in more interest when your upplaud automation is posted automatically."})]}),!D&&(0,V.jsxs)(x.Z,{form:n,size:"large",labelWrap:!0,labelAlign:"left",layout:"horizontal",labelCol:{span:7},wrapperCol:{span:17},initialValues:je,children:[(0,V.jsx)(x.Z.Item,{hidden:!0,name:"pollImageSrc",label:"Poll Image",children:(0,V.jsx)(f.Z,{placeholder:"Poll Image"})}),(0,V.jsx)(x.Z.Item,{hidden:!0,name:"socialShareFileSrc",label:"Social Share File",children:(0,V.jsx)(f.Z,{placeholder:"Social Share File"})}),(0,V.jsx)(x.Z.Item,{name:"guestType",className:"mb-1",children:(0,V.jsx)(T.ZP.Group,{options:h.Qg})}),(0,V.jsx)(oe,{level:4,className:"mt-0",children:"Quick Steps:"}),(0,V.jsx)(E.Z,{current:P,items:ye,onChange:C}),ye.map(((e,l)=>(0,V.jsx)("div",{className:"mt-2 mb-2",style:{display:P===l?"block":"none"},children:null===e||void 0===e?void 0:e.content},l))),P!==ye.length-1&&(0,V.jsxs)("div",{className:"flex-item gap-1 flex-center",children:[P<ye.length-1&&(0,V.jsx)(I.ZP,{block:r.tq,type:"primary",onClick:()=>{C((e=>e+1))},children:"Next Step"}),P>1&&(0,V.jsx)(I.ZP,{block:r.tq,onClick:()=>C((e=>e-1)),children:"Back"})]})]}),D&&(0,V.jsx)(le.Z,{guest:L,showActionBtns:!0,onGoBack:()=>s((0,g.xq)({isPublished:!1}))})]})}},64590:(e,l,t)=>{t.d(l,{Z:()=>x});var o=t(78302),a=t(2556),n=t(60173),s=t(57689),i=t(11087),r=t(38072),c=t(908),d=t(66862),u=t(99372),m=t(67575),p=t(80184);function h(e){let{text:l="",className:t="",onCopy:a=(()=>{})}=e;return(0,p.jsx)("div",{className:"p-1 br-5px bg-sky-6 border-sky-1 ".concat(t),children:(0,p.jsx)(o.default.Paragraph,{ellipsis:!0,copyable:{onCopy:a},className:"m-0 flex-item space-between",children:l})})}var g=t(85442);const{Title:v}=o.default;function x(e){let{guest:l,showActionBtns:t=!1,onGoBack:o=(()=>{})}=e;const x=(0,s.s0)(),{user:f}=(0,d.E)(),b=(null===l||void 0===l?void 0:l.startHostAutomation)||!1,j=((null===l||void 0===l?void 0:l.socials)||[]).reduce(((e,l)=>{if(!l||!l.isConnected)return e;const{type:t,subType:o}=l;return[...e,"".concat(c.W[t]," ").concat(o)]}),[]);return(0,p.jsxs)("div",{className:"mt-2 bg-F7F3F9 br-5px ".concat(n.tq?"p-2":"p-3"),children:[(0,p.jsx)(v,{level:n.tq?4:3,children:"\ud83d\udc4f Congrats, your new Upplaud is ready to pull in new interest!"}),(0,p.jsxs)(v,{level:5,children:["Voters will be directed to:"," ",(0,p.jsx)(i.rU,{target:"_blank",to:"/vote/".concat(null===f||void 0===f?void 0:f.userName,"/").concat(null===l||void 0===l?void 0:l.uniqueId),children:"Voting Page"})]}),(0,p.jsx)(v,{level:5,children:"You've connected:"}),(0,p.jsx)("ul",{children:j.map(((e,l)=>(0,p.jsx)("li",{className:"capitalize",children:e},l)))}),(0,p.jsxs)(v,{level:5,children:["Preview your voter invitation post:"," ",(0,p.jsx)(g.Z,{className:"ml-1",pollImageSrc:null===l||void 0===l?void 0:l.pollImageSrc,prevEl:(0,p.jsx)(a.ZP,{size:"small",children:"Preview"})})]}),(0,p.jsxs)(v,{level:5,className:"mb-1",children:["Your guest will be invited to connect here:"," ",(0,p.jsx)(i.rU,{target:"_blank",to:"/guest-acceptance/".concat(null===f||void 0===f?void 0:f.userName,"/").concat(null===l||void 0===l?void 0:l.uniqueId),children:"Guest Invitation Page"})]}),(0,p.jsxs)(v,{level:5,className:"mt-0 ".concat(n.tq&&"mb-0"),children:["Their private invite password is:"," ",(0,p.jsx)(h,{text:null===l||void 0===l?void 0:l.password,className:"d-inline-block ".concat(n.tq?"w-100":"w-125px ml-1")})]}),(0,p.jsxs)(v,{level:n.tq?5:4,className:n.tq&&"mt-2",children:["We'll start posting"," ",b?"when your guest connects their social media.":"later today!"]}),t&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(a.ZP,{size:"large",type:"default",block:n.tq,onClick:o,icon:(0,p.jsx)(u.Z,{}),children:"Go back to make any changes."}),(0,p.jsx)(a.ZP,{size:"large",type:"primary",block:n.tq,icon:(0,p.jsx)(m.Z,{}),className:"d-block mt-2 text-wrap",onClick:()=>x(r.PATH_DASHBOARD.dashboard.automations),children:"CONFIRM YOUR NEW UPPLAUD & SEE YOUR OTHER AUTOMATIONS"})]})]})}},85442:(e,l,t)=>{t.d(l,{Z:()=>i});var o=t(48531),a=t(72791),n=t(33805),s=t(80184);function i(e){let{prevEl:l=null,className:t="",pollImageSrc:i=""}=e;const[r,c]=(0,a.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:t,onClick:()=>c(!0),children:l||"Preview"}),(0,s.jsx)(o.Z,{style:{display:"none"},src:(0,n.fE)(i),preview:{visible:r,onVisibleChange:e=>c(e)}})]})}},46417:(e,l,t)=>{t.d(l,{Z:()=>h});var o=t(85379),a=t(60173),n=t(18406),s=t(29966),i=t(93070),r=t(89862),c=t(97412),d=t(61431),u=t(2556),m=t(71234),p=t(80184);function h(){const e=i.Z.useFormInstance(),l=i.Z.useWatch("socials",e)||[],t=[4,3,2,1].map((e=>({value:e,label:"Post [".concat(e,"x] monthly")}))),h=(t,o,a)=>{const n=l.map((e=>e._id===t?{...e,[o]:a}:e));e.setFieldValue("socials",n)},g=l.length>0,v=[{key:"social",label:"Confirm Socials & Posting Frequency",children:(0,p.jsxs)("div",{className:"flex-item gap-1 flex-column align-baseline",children:[(0,p.jsx)(i.Z.Item,{name:"socials",hidden:!0,children:(0,p.jsx)("input",{})}),g&&l.map((e=>{let{_id:l,type:o,subType:i,subTypeName:m="",isActive:g,frequency:v,isConnected:x}=e;return(0,p.jsxs)("div",{className:"flex-item gap-1 flex-auto ".concat(a.tq&&"flex-column w-100"),children:[(0,p.jsx)(r.Z,{checked:g,disabled:!x,className:"uppercase ".concat(a.tq&&"w-100"),onChange:e=>h(l,"isActive",e.target.checked),children:(0,n.dh)(o,i,m)}),(0,p.jsx)(c.default,{size:"small",defaultValue:4,value:v,placeholder:"Select",disabled:!x,options:t,style:{minWidth:200},className:a.tq&&"w-100",onChange:e=>h(l,"frequency",e)}),!x&&(0,p.jsx)(d.Z,{color:"red",arrow:!1,title:"Please connect your social account to enable this automation.",children:(0,p.jsxs)(u.ZP,{danger:!0,type:"text",size:"small",shape:"circle",block:a.tq,icon:(0,p.jsx)(s.Z,{}),children:["Account Disconnected"," "]})})]},l)})),!g&&(0,p.jsx)(m.Z,{showIcon:!0,style:{fontWeight:600},message:"No social media accounts found. Please connect your social media accounts first."})]})}];return(0,p.jsx)(o.Z,{items:v,defaultActive:"social",marginBottom:!1})}},34105:(e,l,t)=>{t.d(l,{Z:()=>g});var o=t(49367),a=t(2556),n=t(58533),s=t(72791),i=t(57960),r=t(76452),c=t(20043),d=t(12584),u=t(80184);function m(e){let{onComplete:l,children:t,cropShape:o="round",aspect:a=1}=e;const[m,p]=(0,s.useState)(!1),h=e=>!!["image/png","image/jpg","image/jpeg"].includes(e.type.toLowerCase())||(i.ZP.error("You can only upload JPG/PNG file!"),!1),g={name:"file",beforeUpload:h,multiple:!1,showUploadList:!1,accept:".png, .jpeg, .jpg",customRequest:e=>{let{file:t}=e;const o=new FileReader;o.onloadend=async()=>{try{p(!0);const e=await(0,d.Vg)({imageData:o.result});p(!1),l(null===e||void 0===e?void 0:e.s3Path)}catch(e){console.log(e),p(!1)}},o.readAsDataURL(t)}};return(0,u.jsx)(n.Z,{showReset:!0,rotationSlider:!0,aspect:a,modalOk:"Upload",cropShape:o,fillColor:"transparent",beforeCrop:h,children:(0,u.jsx)(r.default,{...g,children:(0,u.jsx)(c.Z,{spinning:m,children:t})})})}var p=t(72351),h=t(33805);function g(e){let{picture:l="",onChange:t}=e;const n=l?l.startsWith("http")?l:(0,h.fE)(l):null;return(0,u.jsxs)("div",{className:"flex-item",children:[n&&(0,u.jsx)(o.C,{size:"large",src:n}),(0,u.jsx)(m,{onComplete:t,children:(0,u.jsxs)(a.ZP,{icon:(0,u.jsx)(p.Z,{}),children:["Click to ",n?"Change":"Upload"]})})]})}},18406:(e,l,t)=>{t.d(l,{K6:()=>v,MD:()=>x,Qg:()=>p,Ug:()=>h,dh:()=>g,fh:()=>m,mr:()=>u});var o=t(25415),a=t(908);const{HOST_GUEST:n,SOLO_SESSION:s}=a.GUEST_TYPE,{PROFILE:i,PAGE:r,GROUP:c}=a.SOCIAL_SUB_TYPE,d=["##E91E63","#673AB7","#2196F3","#00BCD4","#FF9800","#8BC34A","#009688","#FF5722","#607D8B","#F44336"],u=()=>d[Math.floor(Math.random()*d.length)],m=e=>new Date(e).toDateString(),p=[{key:n,value:n,label:"JOINT SESSION",text:"Their Info"},{key:s,value:s,label:"SOLO SESSION",text:"Your Info"}],h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;return p.find((l=>l.key===e))},g=function(e,l){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const o=(e=>a.W[e])(e);return l===i?"YOUR ".concat(o," PROFILE"):l===r?"YOUR ".concat(o," PAGE: ").concat(t):l===c?"YOUR ".concat(o," GROUP: ").concat(t):""},v=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(((e,l)=>{if(null===l||void 0===l||!l.isConnected)return e;const{type:t,socialId:o,page:a}=l,n=function(e,l){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4;const n=(l||"").toString().length>0;return{type:t,subType:e,frequency:a,subTypeId:l,subTypeName:o,isConnected:n,isActive:n,_id:"".concat(t,"_").concat(e)}};return[...e,n(i,o),n(r,null===a||void 0===a?void 0:a.socialId,(e=>{var l;return(null===e||void 0===e||null===(l=e.accounts.find((l=>{let{id:t}=l;return t===(null===e||void 0===e?void 0:e.socialId)})))||void 0===l?void 0:l.name)||""})(a))]}),[])},x=e=>{const l=new o.Workbook,t=l.addWorksheet("Voting Data"),{questionnaireAnswers:a=[]}=e[0]||{},[n,s,i,r]=a;t.columns=[{header:"Selected Topic",key:"topic"},{header:"Voter Name",key:"voter_name"},{header:"Voter Email",key:"voter_email"},{header:"Voter Cell Phone",key:"voter_cellphone"},{header:"User Suggested",key:"isSuggestion"},{header:"Suggested Topic",key:"suggested_topic"},{header:"Suggested Speaker",key:"suggested_speaker"},{header:"Question 1: ".concat(null===n||void 0===n?void 0:n.question),key:"quest1"},{header:"Question 2: ".concat(null===s||void 0===s?void 0:s.question),key:"quest2"},{header:"Referral 1",key:"quest2_referral1"},{header:"Referral 2",key:"quest2_referral2"},{header:"Name",key:"quest2_name"},{header:"Email",key:"quest2_email"},{header:"Question 3: ".concat(null===i||void 0===i?void 0:i.question),key:"quest3"},{header:"Question 4: ".concat(null===r||void 0===r?void 0:r.question),key:"quest4"},{header:"Timestamp",key:"timestamp"}],e.forEach((e=>{var l,o,a,n,s,i;const{selectedTopic:r,voter:c,isSuggestion:d,suggestions:u,createdAt:m,questionnaireAnswers:p}=e,[h,g,v,x]=p;t.addRow({topic:(null===r||void 0===r?void 0:r.topic)||"Other",voter_name:(null===c||void 0===c?void 0:c.name)||"--",voter_email:(null===c||void 0===c?void 0:c.email)||"--",voter_cellphone:(null===c||void 0===c?void 0:c.cell_phone)||"--",isSuggestion:d?"Yes":"No",suggested_topic:(null===u||void 0===u?void 0:u.topic)||"--",suggested_speaker:(null===u||void 0===u?void 0:u.speaker)||"--",quest1:h&&(null===h||void 0===h?void 0:h.answers)||"--",quest2:null!==g&&void 0!==g&&g.answers?"Comment: ".concat((null===g||void 0===g||null===(l=g.answers)||void 0===l?void 0:l.comment)||"--"):"--",quest2_referral1:(null===g||void 0===g||null===(o=g.answers)||void 0===o?void 0:o.referral1)||"--",quest2_referral2:(null===g||void 0===g||null===(a=g.answers)||void 0===a?void 0:a.referral2)||"--",quest2_name:(null===g||void 0===g||null===(n=g.answers)||void 0===n?void 0:n.name)||"--",quest2_email:(null===g||void 0===g||null===(s=g.answers)||void 0===s?void 0:s.email)||"--",quest3:v&&(null===v||void 0===v||null===(i=v.answers)||void 0===i?void 0:i.answer)||"--",quest4:x?null!==x&&void 0!==x&&x.doneSharing?"Yes":"No":"--",timestamp:new Date(m).toLocaleString()})})),l.xlsx.writeBuffer().then((e=>{const l=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),t=window.URL.createObjectURL(l),o=document.createElement("a");o.href=t,o.download="VotingData.xlsx",o.click()}))}}}]);
//# sourceMappingURL=480.36acf4e8.chunk.js.map