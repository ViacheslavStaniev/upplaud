"use strict";(self.webpackChunkpdsq_frontend=self.webpackChunkpdsq_frontend||[]).push([[656],{95656:(e,l,s)=>{s.r(l),s.d(l,{default:()=>C});var n=s(94545),o=s(83769),i=s(76171),r=s(64554),a=s(72791);const t=s.p+"static/media/watermark.b7a2a699c2ad36dae68385b12aab8aee.svg";var c=s(80184);function d(e){let{children:l}=e;return(0,c.jsx)(r.Z,{height:200,width:100,image:t,zIndex:0,className:"watermark",children:l})}var u=s(60173),h=s(908),m=s(33805),p=s(99372),x=s(57689),v=s(48080),j=s(78302),f=s(36473),g=s(2556),N=s(14520),b=s(93070),y=s(49389),Z=s(20043),k=s(48531),w=s(49367),S=s(40959);const{Text:E,Link:I,Title:q,Paragraph:F}=j.default,R=[{key:"first",answers:"",question:"So, what\u2019s your interest in this topic?",options:["For me","For someone else","No, just voted to help"]},{key:"second",answers:{},question:"Oh? Know someone else that should hear our topic?",options:[""]},{key:"third",answers:"",question:"BTW: If we put together a guide or a checklist based on the topic:",options:["Yes","Maybe","No"]},{key:"fourth",answers:"",question:"Would you be willing to post our topic poll on your Facebook or LinkedIn?",options:[]}],Y={poll:"",isSuggestion:!1,questionnaireAnswers:[],selectedTopic:{topic:"",index:0},suggestions:{topic:"",speaker:""},voter:{name:"",email:"",cell_phone:""}};function C(){const{userName:e,pollUniqueId:l}=(0,x.UO)(),[s,r]=(0,a.useState)({currentQuestion:1,showEndScreen:!1,openSuccessModal:!1,startQuestionnaire:!1,openSuggestionForm:!1,finalResult:Y,poll:{guest:null,error:null,isLoading:!1}}),[t,j]=(0,a.useState)({answer:"",userInfo:{name:"",email:"",cell_phone:""}}),k=e=>r((l=>({...l,...e}))),{poll:w,finalResult:S,showEndScreen:C,currentQuestion:B,openSuccessModal:M,openSuggestionForm:U,startQuestionnaire:_}=s,L=(null===S||void 0===S?void 0:S.questionnaireAnswers)||[],z=L[B-1],{guest:W,error:D,isLoading:Q}=w,V=null===W||void 0===W?void 0:W._id;if((0,a.useEffect)((()=>{const s=e=>r((l=>({...l,poll:{...l.poll,...e}})));s({isLoading:!0}),v.XY.getPollByUniqueId(e,l).then((e=>s({guest:e,isLoading:!1}))).catch((e=>s({error:e,isLoading:!1})))}),[e,l]),D||W&&(null===W||void 0===W?void 0:W.status)===h.POLL_STATUS.DRAFT)return(0,c.jsx)(x.Fg,{to:"/404"});const G=(0,m.fE)(null===W||void 0===W?void 0:W.pollImageSrc)||"",[K="",H=""]=(null===W||void 0===W?void 0:W.potentialTopics)||[],X=e=>{(0,v.sU)(V,e).then((l=>k({finalResult:null!==l&&void 0!==l&&l._id?l:e}))).catch(console.log)},J=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const s={openSuccessModal:""!==l,openSuggestionForm:""===l,finalResult:{...S,poll:V,isSuggestion:""===l,selectedTopic:{topic:l,index:e}}};k(s),X(s.finalResult)},$=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const s=3===e,{questionnaireAnswers:n=[]}=S;n[e]?n[e]={...n[e],answers:l}:n.push({...R[e],answers:l});const o={showEndScreen:s,finalResult:{...S,questionnaireAnswers:n},currentQuestion:s?B:B+1};k(o),X(o.finalResult)};var ee,le,se,ne,oe,ie,re,ae,te,ce,de,ue,he,me,pe,xe,ve,je;return C?(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)(T,{src:G,height:160}),(0,c.jsxs)(f.Z,{className:"bg-EEF4FB mt-4 mb-4",bodyStyle:{padding:14},children:[(0,c.jsx)(q,{level:3,className:"m-",children:"Thank you for your help!"}),(0,c.jsxs)("div",{className:"reward-links",children:[(0,c.jsx)(q,{level:5,className:"mt-2",children:"SEE YOUR REWARDS FROM:"}),(0,c.jsx)(g.ZP,{type:"info",size:"large",shape:"round",target:"_blank",className:"fw-400",href:null===W||void 0===W?void 0:W.guestOfferUrl,children:"".concat(null===W||void 0===W||null===(ee=W.guest)||void 0===ee?void 0:ee.firstName," ").concat(null===W||void 0===W||null===(le=W.guest)||void 0===le?void 0:le.lastName)}),(0,c.jsx)(q,{level:5,className:"mt-2",children:"SEE YOUR REWARDS FROM:"}),(0,c.jsx)(g.ZP,{size:"large",shape:"round",type:"primary",target:"_blank",className:"fw-400",href:null===W||void 0===W?void 0:W.hostOfferUrl,children:"".concat(null===W||void 0===W||null===(se=W.user)||void 0===se?void 0:se.firstName," ").concat(null===W||void 0===W||null===(ne=W.user)||void 0===ne?void 0:ne.lastName)})]})]}),(0,c.jsx)(F,{type:"secondary",className:"mb-4",children:"To get more from what we present, click to vote in our other Upplaud polls."}),(0,c.jsx)(n.Z,{})]}):_?(0,c.jsxs)("div",{className:"questionnaire p-2",children:[(0,c.jsxs)("div",{className:"flex-item gap-2 mb-2",children:[(0,c.jsx)(E,{className:"color-0AB6B6",children:"01"}),(0,c.jsx)("div",{className:"flex-1 flex-item gap-2",children:Array.from({length:4}).map(((e,l)=>(0,c.jsx)("div",{onClick:()=>k({currentQuestion:l+1}),style:{flex:1,height:8,cursor:"pointer",backgroundColor:B-1>=l?"#0AB6B6":"#eeeeee",pointerEvents:L[l]?"auto":"none"}},l)))}),(0,c.jsx)(E,{className:"color-0AB6B6",children:"04"})]}),1===B&&(0,c.jsxs)("div",{className:"first-question",children:[(0,c.jsxs)(F,{type:"secondary",className:"m-0",children:['"',null===S||void 0===S||null===(oe=S.selectedTopic)||void 0===oe?void 0:oe.topic,'"']}),(0,c.jsx)(q,{level:3,className:"m-0",type:"info",children:"So, what\u2019s your interest in this topic?"}),(0,c.jsx)(N.Z,{vertical:!0,gap:20,className:"mt-4",children:["For me","For someone else","No, just voted to help"].map(((e,l)=>(0,c.jsx)(g.ZP,{shape:"round",size:"large",className:"text-left",icon:(0,c.jsx)(i.Z,{name:"circle"}),onClick:()=>$(0,e),type:z&&(null===z||void 0===z?void 0:z.answers)===e?"info":"default",children:e},l)))})]}),2===B&&(0,c.jsxs)("div",{className:"second-question",children:[(0,c.jsxs)(F,{type:"secondary",className:"m-0",children:['"',null===S||void 0===S||null===(ie=S.selectedTopic)||void 0===ie?void 0:ie.topic,'"']}),(0,c.jsx)(q,{level:3,className:"m-0 mb-4",type:"success",children:"Oh? Know someone else that should hear our topic?"}),(0,c.jsxs)(b.Z,{onFinish:e=>$(1,e),initialValues:{name:(null===z||void 0===z||null===(re=z.answers)||void 0===re?void 0:re.name)||"",email:(null===z||void 0===z||null===(ae=z.answers)||void 0===ae?void 0:ae.email)||"",comment:(null===z||void 0===z||null===(te=z.answers)||void 0===te?void 0:te.comment)||"",referral1:(null===z||void 0===z||null===(ce=z.answers)||void 0===ce?void 0:ce.referral1)||"",referral2:(null===z||void 0===z||null===(de=z.answers)||void 0===de?void 0:de.referral2)||""},children:[(0,c.jsx)(b.Z.Item,{label:"Referral Name 1",name:"referral1",rules:[{required:!0}],children:(0,c.jsx)(y.Z,{placeholder:"Referral Name 1"})}),(0,c.jsx)(b.Z.Item,{label:"Referral Name 2",name:"referral2",children:(0,c.jsx)(y.Z,{placeholder:"Referral Name 2"})}),(0,c.jsx)(b.Z.Item,{label:"Your Comment",name:"comment",children:(0,c.jsx)(y.Z,{placeholder:"Your Comment"})}),(0,c.jsx)(b.Z.Item,{label:"Your Name",name:"name",rules:[{required:!0}],children:(0,c.jsx)(y.Z,{placeholder:"Your Name"})}),(0,c.jsx)(b.Z.Item,{label:"Your Email",name:"email",rules:[{required:!0}],children:(0,c.jsx)(y.Z,{placeholder:"Your Email"})}),(0,c.jsx)(g.ZP,{block:u.tq,shape:"round",type:"info",size:"large",htmlType:"submit",children:"SEND ME EMAIL TO FORWARD"})]}),(0,c.jsx)(g.ZP,{block:u.tq,type:"ghost",className:"mt-2",onClick:()=>$(1,{skipped:!0}),children:"SKIP FOR NOW"})]}),3===B&&(0,c.jsxs)("div",{className:"third-question",children:[(0,c.jsxs)(f.Z,{className:"bg-EEF4FB mb-4",bodyStyle:{padding:14},children:[(0,c.jsx)(q,{level:3,className:"m-0 mb-2",children:"BTW: If we put together a guide or a checklist based on the topic:"}),(0,c.jsxs)(F,{type:"secondary",className:"m-0",children:['"',null===S||void 0===S||null===(ue=S.selectedTopic)||void 0===ue?void 0:ue.topic,'"']}),(0,c.jsx)(q,{level:4,className:"m-0 mt-2",type:"info",children:"Would you want a copy?"}),(0,c.jsx)(F,{type:"secondary",className:"m-0",children:"No cost, just thanks for voting."}),(0,c.jsx)("div",{className:"flex-item gap-2 mt-2",children:["Yes","Maybe","No"].map(((e,l)=>(0,c.jsx)(g.ZP,{size:"large",shape:"round",type:(null===t||void 0===t?void 0:t.answer)===e?"info":"default",onClick:()=>{const l={...t,answer:e};j(l),"No"===e&&$(2,l)},children:e},l)))})]}),(0,c.jsxs)(b.Z,{initialValues:{name:(null===z||void 0===z||null===(he=z.answers)||void 0===he||null===(me=he.userInfo)||void 0===me?void 0:me.name)||"",email:(null===z||void 0===z||null===(pe=z.answers)||void 0===pe||null===(xe=pe.userInfo)||void 0===xe?void 0:xe.email)||"",cell_phone:(null===z||void 0===z||null===(ve=z.answers)||void 0===ve||null===(je=ve.userInfo)||void 0===je?void 0:je.cell_phone)||""},onFinish:e=>{let{userInfo:l}=e;return $(2,{...t,userInfo:l})},children:[(0,c.jsx)(b.Z.Item,{label:"Your Name",name:["userInfo","name"],rules:[{required:"No"!==(null===t||void 0===t?void 0:t.answer)}],children:(0,c.jsx)(y.Z,{placeholder:"Your Name"})}),(0,c.jsx)(b.Z.Item,{label:"Your Email",name:["userInfo","email"],rules:[{required:"No"!==(null===t||void 0===t?void 0:t.answer)}],children:(0,c.jsx)(y.Z,{placeholder:"Your Email"})}),(0,c.jsx)(b.Z.Item,{label:"Your Cell Phone",name:["userInfo","cell_phone"],rules:[{required:"No"!==(null===t||void 0===t?void 0:t.answer)}],children:(0,c.jsx)(y.Z,{placeholder:"Your Cell Phone"})}),(0,c.jsx)(g.ZP,{block:u.tq,shape:"round",type:"info",size:"large",htmlType:"submit",disabled:""===(null===t||void 0===t?void 0:t.answer),children:"SEND ME A FREE COPY"})]})]}),4===B&&(0,c.jsxs)("div",{className:"fourth-question",children:[(0,c.jsxs)(f.Z,{className:"bg-EEF4FB mb-4",bodyStyle:{padding:14},children:[(0,c.jsx)(q,{level:3,className:"m-0 mb-2",children:"Last question, we promise!"}),(0,c.jsx)(F,{type:"secondary",className:"font-18px",children:"Would you be willing to post our topic poll on your Facebook or LinkedIn?\xa0"}),(0,c.jsx)(F,{type:"secondary",className:"font-18px",children:"You'll be helping us grow our audience. Thanks..."}),(0,c.jsx)(q,{level:4,className:"m-0 mt-2",type:"info",children:"HELP US GET MORE VOTES:"}),(0,c.jsx)(g.ZP,{type:"link",target:"_blank",block:u.tq,className:"text-left font-18px",icon:(0,c.jsx)(i.Z,{name:"facebook"}),href:"https://www.facebook.com/sharer/sharer.php?u=".concat(window.location.href),children:"| Share poll on Facebook"}),(0,c.jsx)(g.ZP,{type:"link",target:"_blank",block:u.tq,className:"text-left font-18px",icon:(0,c.jsx)(i.Z,{name:"linkedin"}),href:"https://www.linkedin.com/sharing/share-offsite/?url=".concat(window.location.href),children:"| Share poll on Linkedin"})]}),(0,c.jsx)(g.ZP,{size:"large",block:u.tq,shape:"round",onClick:()=>$(3,{doneSharing:!0,skipped:!1}),children:"DONE SHARING? SEE YOUR REWARDS"}),(0,c.jsxs)(F,{type:"secondary",className:"mt-4",children:["If you'd rather not try to generate more interest for us, you can"," ",(0,c.jsx)(I,{onClick:()=>$(3,{doneSharing:!1,skipped:!0}),children:"click here"})," ","to skip for now."]})]}),B<3&&(0,c.jsxs)("div",{className:"text-center mt-4",children:[(0,c.jsx)(T,{src:G,height:160,className:"mb-4"}),(0,c.jsx)(g.ZP,{type:"text",icon:(0,c.jsx)(p.Z,{}),onClick:()=>k({currentQuestion:1,openSuccessModal:!1,startQuestionnaire:!1,openSuggestionForm:!1}),children:"Change your vote"})]})]}):(0,c.jsx)(Z.Z,{spinning:Q,children:(0,c.jsx)(d,{children:(0,c.jsxs)(f.Z,{bordered:!1,className:"voting-page text-center",children:[(0,c.jsx)(o.Z,{title:"Vote"}),!U&&(0,c.jsxs)("div",{className:"voting-form",children:[(0,c.jsx)(T,{src:G}),(0,c.jsx)(q,{level:2,type:"info",className:"mt-2",children:"Which topic is more interesting?"}),(0,c.jsx)(F,{type:"secondary",children:"Tailor what we present: Click on a box to vote."}),(0,c.jsxs)(N.Z,{vertical:u.tq,gap:40,className:"mb-4 text-left",children:[(0,c.jsxs)(f.Z,{hoverable:!0,className:"flex-1 bg-E6F5FB w-100",onClick:()=>J(0,K),children:[(0,c.jsx)(E,{strong:!0,className:"font-16px",children:K}),(0,c.jsx)(P,{count:1})]}),(0,c.jsxs)(f.Z,{hoverable:!0,className:"flex-1 bg-F3EAF9 w-100",onClick:()=>J(1,H),children:[(0,c.jsx)(E,{strong:!0,className:"font-16px",children:H}),(0,c.jsx)(P,{count:2})]}),(0,c.jsxs)(f.Z,{hoverable:!0,className:"flex-1 bg-EBF9E6 w-100",children:[(0,c.jsx)(F,{className:"m-0 pl-2 font-16px",children:"Don\u2019t prefer either?"}),(0,c.jsx)(g.ZP,{type:"link",size:"large",onClick:()=>J(2,""),children:"Submit your own topic."}),(0,c.jsx)(P,{count:3})]})]}),(0,c.jsx)(O,{open:M,finalResult:S,onClose:()=>k({openSuccessModal:!1}),onBack:()=>k({openSuccessModal:!1,openSuggestionForm:!1}),onFinish:e=>{const l={openSuccessModal:!1,startQuestionnaire:!0,finalResult:{...S,...e}};k(l),X(l.finalResult)}})]}),U&&(0,c.jsx)(A,{finalResult:S,pollImageSrc:G,onBack:()=>k({openSuggestionForm:!1}),onFinish:e=>{const l={startQuestionnaire:!0,finalResult:{...S,...e}};k(l),X(l.finalResult)}})]})})})}function T(e){let{src:l,height:s=200,...n}=e;return(0,c.jsx)("div",{className:"text-center",children:(0,c.jsx)(k.Z,{preview:!1,src:l,height:s,...n})})}function P(e){let{count:l=0}=e;return(0,c.jsx)(w.C,{size:"large",className:"bg-white filter-shadow-1 border-black-1",style:{position:"absolute",left:"calc(50% - 23px)",bottom:-25},children:(0,c.jsx)(E,{strong:!0,className:"font-16px",children:l})})}function O(e){let{open:l,onClose:s,onBack:n,finalResult:o,onFinish:i}=e;return(0,c.jsxs)(S.Z,{centered:!0,open:l,onCancel:s,footer:null,width:600,children:[(0,c.jsx)(q,{level:4,type:"success",className:"text-center mb-4",children:"Thanks! We\u2019ll let you know which topic wins..."}),(0,c.jsxs)(b.Z,{layout:"vertical",onFinish:i,initialValues:o,children:[(0,c.jsx)(b.Z.Item,{label:"Your Name",name:["voter","name"],children:(0,c.jsx)(y.Z,{placeholder:"Your Name"})}),(0,c.jsx)(b.Z.Item,{label:"Your Email",name:["voter","email"],children:(0,c.jsx)(y.Z,{placeholder:"Your Email"})}),(0,c.jsx)(b.Z.Item,{label:"Your Cell Phone",name:["voter","cell_phone"],children:(0,c.jsx)(y.Z,{placeholder:"Your Cell Phone"})}),(0,c.jsxs)(N.Z,{vertical:u.tq,gap:20,children:[(0,c.jsx)(g.ZP,{block:u.tq,shape:"round",type:"info",size:"large",htmlType:"submit",className:"flex-1",children:"UPDATE ME PLEASE"}),(0,c.jsx)(g.ZP,{size:"large",shape:"round",block:u.tq,htmlType:"submit",className:"flex-1",children:"NO, THANKS"}),(0,c.jsx)(g.ZP,{type:"text",size:"large",shape:"round",className:"flex-1",onClick:n,icon:(0,c.jsx)(p.Z,{}),children:"Change your vote"})]})]})]})}function A(e){let{onBack:l,finalResult:s,pollImageSrc:n,onFinish:o}=e;return(0,c.jsxs)("div",{className:"suggestion-form text-left",children:[(0,c.jsx)(q,{level:4,className:"text-center",children:"SUGGEST YOUR OWN TOPIC"}),(0,c.jsxs)(b.Z,{layout:"vertical",onFinish:o,initialValues:s,children:[(0,c.jsx)(b.Z.Item,{label:"Your Name",name:["voter","name"],rules:[{required:!0}],children:(0,c.jsx)(y.Z,{placeholder:"Your Name"})}),(0,c.jsx)(b.Z.Item,{label:"Your Email",name:["voter","email"],rules:[{required:!0}],children:(0,c.jsx)(y.Z,{placeholder:"Your Email"})}),(0,c.jsx)(b.Z.Item,{label:"Your Cell Phone",name:["voter","cell_phone"],rules:[{required:!0}],children:(0,c.jsx)(y.Z,{placeholder:"Your Cell Phone"})}),(0,c.jsx)(b.Z.Item,{label:"Your Topic Suggestion",name:["suggestions","topic"],rules:[{required:!0}],children:(0,c.jsx)(y.Z,{placeholder:"Your Topic Suggestion"})}),(0,c.jsx)(b.Z.Item,{label:"Your Speaker Suggestion",name:["suggestions","speaker"],children:(0,c.jsx)(y.Z,{placeholder:"Your Speaker Suggestion"})}),(0,c.jsx)(g.ZP,{block:u.tq,shape:"round",type:"info",size:"large",htmlType:"submit",children:"SUBMIT TOPIC"})]}),(0,c.jsxs)("div",{className:"text-center mt-2",children:[(0,c.jsx)(T,{src:n,height:160,className:"mb-4"}),(0,c.jsx)(g.ZP,{type:"text",onClick:l,icon:(0,c.jsx)(p.Z,{}),children:"Change your vote"})]})]})}}}]);
//# sourceMappingURL=656.b3c8883b.chunk.js.map