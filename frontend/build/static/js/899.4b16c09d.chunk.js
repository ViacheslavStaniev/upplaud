"use strict";(self.webpackChunkpodasq=self.webpackChunkpodasq||[]).push([[899],{92899:function(e,t,r){r.r(t),r.d(t,{default:function(){return z}});var n=r(93433),a=r(74165),s=r(1413),i=r(15861),o=r(29439),l=r(91614),c=r(20890),u=r(53767),d=r(94070),p=r(63466),m=r(36151),h=r(81918),x=r(85523),f=r(9955),b=r(20068),Z=r(74223),j=r(80184),g=(0,Z.Z)((0,j.jsx)("path",{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"}),"HelpOutline"),v=r(72791),T=r(39709),y=r(81724),w=r(61134),S=r(44695),A=r(98246),D=r(68343),C=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var r,n,s,i,o,l=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=l.length>1&&void 0!==l[1]?l[1]:null,e.prev=1,!r){e.next=8;break}return e.next=5,D.Z.put("guests/".concat(r),t);case 5:return n=e.sent,s=n.data,e.abrupt("return",s);case 8:return e.next=10,D.Z.post("guests",t);case 10:return i=e.sent,o=i.data,e.abrupt("return",o);case 15:return e.prev=15,e.t0=e.catch(1),e.abrupt("return",e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),k=r(53861),q=r(66658),E=r(78230),G=r(83769);function z(){var e=(0,A.Ds)().enqueueSnackbar,t=(0,E.K$)().themeStretch,r=(0,k.Z)("up","lg")?"row":"column",Z=y.Ry().shape({firstName:y.Z_().required("First name is Required"),jobTitle:y.Z_().required("Please fill the Job Title"),recordingDate:y.hT().required("Please choose a recording date."),email:y.Z_().required("Email is required").email("Email must be a valid email address")}),D={firstName:"",lastName:"",email:"",jobTitle:"",recordingDate:"",startHostAutomation:!1,dummyTopic:""},z=(0,v.useState)([]),N=(0,o.Z)(z,2),P=N[0],H=N[1],I=(0,w.cI)({resolver:(0,S.X)(Z),defaultValues:D}),O=I.reset,U=I.watch,F=I.setError,L=I.setValue,R=I.handleSubmit,V=I.formState,_=V.errors,B=V.isSubmitting,J=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C((0,s.Z)((0,s.Z)({},r),{},{potentialTopics:P}));case 3:H([]),O(D),e("Guest added successfully!"),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),O(),F("afterSubmit",(0,s.Z)((0,s.Z)({},t.t0),{},{message:t.t0.message||t.t0}));case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}();return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(G.Z,{title:"Add Guest"}),(0,j.jsxs)(l.Z,{maxWidth:!t&&"xl",children:[(0,j.jsx)(c.Z,{variant:"h3",component:"h1",children:"Add Guest"}),(0,j.jsx)(c.Z,{children:"Enter your guest details to automate their pre-episode promotion on social media"}),(0,j.jsxs)(q.ZP,{methods:I,onSubmit:R(J),children:[(0,j.jsxs)(u.Z,{spacing:2,marginTop:2,marginBottom:2,children:[!!_.afterSubmit&&(0,j.jsx)(d.Z,{severity:"error",children:_.afterSubmit.message}),(0,j.jsxs)(u.Z,{sx:{gap:2,mb:2,alignContent:"center",justifyContent:"space-between",flexDirection:r},children:[(0,j.jsx)(q.au,{name:"firstName",label:"Guest First Name"}),(0,j.jsx)(q.au,{name:"lastName",label:"Guest Last Name"}),(0,j.jsx)(q.au,{name:"email",label:"Guest Email"})]}),(0,j.jsxs)(u.Z,{sx:{gap:2,mb:2,alignContent:"center",justifyContent:"space-between",flexDirection:r},children:[(0,j.jsx)(q.T$,{name:"recordingDate",label:"Recording Date"}),(0,j.jsx)(q.au,{name:"jobTitle",label:"Guest Job Title and Business"}),(0,j.jsxs)(u.Z,{width:"100%",position:"relative",children:[(0,j.jsx)(q.au,{name:"dummyTopic",disabled:5===P.length,label:"Potential Topic (Optional)",placeholder:"Add your topic here...",InputProps:{endAdornment:(0,j.jsx)(p.Z,{position:"end",children:(0,j.jsx)(m.Z,{edge:"end","aria-label":"Add Topic",disabled:5===P.length,onClick:function(){H((function(e){return[].concat((0,n.Z)(e),[U("dummyTopic")])})),L("dummyTopic","")},children:"Add Topic"})})}}),(0,j.jsx)(u.Z,{gap:1,top:95,flexWrap:"wrap",position:"absolute",flexDirection:"row",children:P.map((function(e,t){return(0,j.jsx)(h.Z,{label:e,variant:"outlined",sx:{justifyContent:"left",width:"fit-content"},onDelete:function(){return H((function(e){return e.filter((function(e,r){return r!==t}))}))}},t)}))})]})]})]}),(0,j.jsxs)(u.Z,{sx:{gap:2,flexDirection:r},children:[(0,j.jsx)(c.Z,{sx:{display:"flex",alignItems:"center"},children:"Start Host Automation Now"}),(0,j.jsx)(x.Z,{name:"startHostAutomation",label:"Start when guest starts",control:(0,j.jsx)(f.Z,{size:"medium"})})]}),(0,j.jsxs)(u.Z,{gap:2,flexDirection:"row",marginTop:4,children:[(0,j.jsx)(T.Z,{size:"large",type:"submit",shape:"circular",variant:"outlined",loading:B,children:"Add Guest"}),(0,j.jsx)(m.Z,{disabled:!0,size:"large",type:"button",color:"primary",shape:"circular",variant:"contained",endIcon:(0,j.jsx)(b.Z,{arrow:!0,placement:"top",title:"Upload a spreadsheet of guests. Each column should match above fields labels EXACTLY (case sensitive so copy/paste).",children:(0,j.jsx)(g,{})}),children:"UPLOAD CSV"}),(0,j.jsx)(m.Z,{disabled:!0,color:"info",size:"large",type:"button",shape:"circular",variant:"contained",children:"AUTOMATE GUEST"})]})]})]})]})}}}]);
//# sourceMappingURL=899.4b16c09d.chunk.js.map